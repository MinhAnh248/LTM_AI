{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/LTMang_AI/expense_ai/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import{useState,useRef,useCallback,useEffect}from'react';import styled from'styled-components';import{Camera,X,RotateCcw,Check,Upload}from'lucide-react';import{toast}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CameraModal=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.9);\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 1000;\\n\"])));const CameraContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: relative;\\n  max-width: 90vw;\\n  max-height: 80vh;\\n  background: #000;\\n  border-radius: 15px;\\n  overflow: hidden;\\n\"])));const VideoElement=styled.video(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: auto;\\n  max-height: 70vh;\\n  object-fit: cover;\\n\"])));const CapturedImage=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: auto;\\n  max-height: 70vh;\\n  object-fit: contain;\\n\"])));const CameraControls=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 20px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  display: flex;\\n  gap: 1rem;\\n  align-items: center;\\n\"])));const ControlButton=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 50%;\\n  border: none;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.3s ease;\\n  \\n  &.capture {\\n    background: #fff;\\n    border: 4px solid #007bff;\\n    \\n    &:hover {\\n      transform: scale(1.1);\\n    }\\n  }\\n  \\n  &.action {\\n    background: #007bff;\\n    color: white;\\n    \\n    &:hover {\\n      background: #0056b3;\\n      transform: scale(1.1);\\n    }\\n  }\\n  \\n  &.danger {\\n    background: #dc3545;\\n    color: white;\\n    \\n    &:hover {\\n      background: #c82333;\\n      transform: scale(1.1);\\n    }\\n  }\\n\"])));const CloseButton=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 20px;\\n  right: 20px;\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  background: rgba(255, 255, 255, 0.2);\\n  border: none;\\n  color: white;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  \\n  &:hover {\\n    background: rgba(255, 255, 255, 0.3);\\n  }\\n\"])));const FileUploadArea=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  max-width: 400px;\\n  padding: 2rem;\\n  border: 2px dashed #007bff;\\n  border-radius: 15px;\\n  text-align: center;\\n  background: rgba(255, 255, 255, 0.1);\\n  color: white;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  \\n  &:hover {\\n    background: rgba(255, 255, 255, 0.2);\\n    border-color: #0056b3;\\n  }\\n\"])));const HiddenFileInput=styled.input(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: none;\\n\"])));const CameraCapture=_ref=>{let{isOpen,onClose,onCapture}=_ref;const[stream,setStream]=useState(null);const[capturedImage,setCapturedImage]=useState(null);const[isProcessing,setIsProcessing]=useState(false);const videoRef=useRef(null);const canvasRef=useRef(null);const fileInputRef=useRef(null);const startCamera=useCallback(async()=>{try{const mediaStream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'environment',// Sử dụng camera sau nếu có\nwidth:{ideal:1280},height:{ideal:720}}});setStream(mediaStream);if(videoRef.current){videoRef.current.srcObject=mediaStream;}}catch(error){console.error('Error accessing camera:',error);toast.error('Không thể truy cập camera. Vui lòng cho phép quyền camera.');}},[]);const stopCamera=useCallback(()=>{if(stream){stream.getTracks().forEach(track=>track.stop());setStream(null);}},[stream]);const capturePhoto=useCallback(()=>{if(!videoRef.current)return;const canvas=canvasRef.current;const video=videoRef.current;canvas.width=video.videoWidth;canvas.height=video.videoHeight;const ctx=canvas.getContext('2d');ctx.drawImage(video,0,0);const imageDataUrl=canvas.toDataURL('image/jpeg',0.8);setCapturedImage(imageDataUrl);stopCamera();},[stopCamera]);const retakePhoto=useCallback(()=>{setCapturedImage(null);startCamera();},[startCamera]);const confirmCapture=useCallback(async()=>{if(!capturedImage)return;setIsProcessing(true);try{// Convert data URL to blob\nconst response=await fetch(capturedImage);const blob=await response.blob();await onCapture(blob);handleClose();}catch(error){console.error('Error processing image:',error);toast.error('Có lỗi xảy ra khi xử lý ảnh');}finally{setIsProcessing(false);}},[capturedImage,onCapture]);const handleFileUpload=useCallback(async event=>{const file=event.target.files[0];if(!file)return;if(!file.type.startsWith('image/')){toast.error('Vui lòng chọn file ảnh');return;}setIsProcessing(true);try{await onCapture(file);handleClose();}catch(error){console.error('Error processing uploaded file:',error);toast.error('Có lỗi xảy ra khi xử lý ảnh');}finally{setIsProcessing(false);}},[onCapture]);const handleClose=useCallback(()=>{stopCamera();setCapturedImage(null);setIsProcessing(false);onClose();},[stopCamera,onClose]);// Start camera when modal opens\nuseEffect(()=>{if(isOpen&&!capturedImage){startCamera();}return()=>{if(!isOpen){stopCamera();}};},[isOpen,capturedImage,startCamera,stopCamera]);if(!isOpen)return null;return/*#__PURE__*/_jsxs(CameraModal,{children:[/*#__PURE__*/_jsx(CloseButton,{onClick:handleClose,children:/*#__PURE__*/_jsx(X,{size:20})}),/*#__PURE__*/_jsx(CameraContainer,{children:capturedImage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CapturedImage,{src:capturedImage,alt:\"Captured receipt\"}),/*#__PURE__*/_jsxs(CameraControls,{children:[/*#__PURE__*/_jsx(ControlButton,{className:\"danger\",onClick:retakePhoto,title:\"Ch\\u1EE5p l\\u1EA1i\",children:/*#__PURE__*/_jsx(RotateCcw,{size:24})}),/*#__PURE__*/_jsx(ControlButton,{className:\"action\",onClick:confirmCapture,disabled:isProcessing,title:\"X\\xE1c nh\\u1EADn\",children:/*#__PURE__*/_jsx(Check,{size:24})})]})]}):stream?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VideoElement,{ref:videoRef,autoPlay:true,playsInline:true}),/*#__PURE__*/_jsx(CameraControls,{children:/*#__PURE__*/_jsx(ControlButton,{className:\"capture\",onClick:capturePhoto,title:\"Ch\\u1EE5p \\u1EA3nh\",children:/*#__PURE__*/_jsx(Camera,{size:24,color:\"#007bff\"})})})]}):/*#__PURE__*/_jsxs(FileUploadArea,{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},children:[/*#__PURE__*/_jsx(Upload,{size:48,style:{marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ch\\u1EE5p \\u1EA3nh h\\xF3a \\u0111\\u01A1n\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Nh\\u1EA5n \\u0111\\u1EC3 ch\\u1ECDn \\u1EA3nh t\\u1EEB th\\u01B0 vi\\u1EC7n\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',marginTop:'0.5rem',opacity:0.8},children:\"Ho\\u1EB7c cho ph\\xE9p camera \\u0111\\u1EC3 ch\\u1EE5p \\u1EA3nh tr\\u1EF1c ti\\u1EBFp\"})]})}),/*#__PURE__*/_jsx(HiddenFileInput,{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleFileUpload}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}})]});};export default CameraCapture;","map":{"version":3,"names":["useState","useRef","useCallback","useEffect","styled","Camera","X","RotateCcw","Check","Upload","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CameraModal","div","_templateObject","_taggedTemplateLiteral","CameraContainer","_templateObject2","VideoElement","video","_templateObject3","CapturedImage","img","_templateObject4","CameraControls","_templateObject5","ControlButton","button","_templateObject6","CloseButton","_templateObject7","FileUploadArea","_templateObject8","HiddenFileInput","input","_templateObject9","CameraCapture","_ref","isOpen","onClose","onCapture","stream","setStream","capturedImage","setCapturedImage","isProcessing","setIsProcessing","videoRef","canvasRef","fileInputRef","startCamera","mediaStream","navigator","mediaDevices","getUserMedia","facingMode","width","ideal","height","current","srcObject","error","console","stopCamera","getTracks","forEach","track","stop","capturePhoto","canvas","videoWidth","videoHeight","ctx","getContext","drawImage","imageDataUrl","toDataURL","retakePhoto","confirmCapture","response","fetch","blob","handleClose","handleFileUpload","event","file","target","files","type","startsWith","children","onClick","size","src","alt","className","title","disabled","ref","autoPlay","playsInline","color","_fileInputRef$current","click","style","marginBottom","fontSize","marginTop","opacity","accept","onChange","display"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/components/CameraCapture.js"],"sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Camera, X, RotateCcw, Check, Upload } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst CameraModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst CameraContainer = styled.div`\r\n  position: relative;\r\n  max-width: 90vw;\r\n  max-height: 80vh;\r\n  background: #000;\r\n  border-radius: 15px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst VideoElement = styled.video`\r\n  width: 100%;\r\n  height: auto;\r\n  max-height: 70vh;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst CapturedImage = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  max-height: 70vh;\r\n  object-fit: contain;\r\n`;\r\n\r\nconst CameraControls = styled.div`\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  \r\n  &.capture {\r\n    background: #fff;\r\n    border: 4px solid #007bff;\r\n    \r\n    &:hover {\r\n      transform: scale(1.1);\r\n    }\r\n  }\r\n  \r\n  &.action {\r\n    background: #007bff;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #0056b3;\r\n      transform: scale(1.1);\r\n    }\r\n  }\r\n  \r\n  &.danger {\r\n    background: #dc3545;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #c82333;\r\n      transform: scale(1.1);\r\n    }\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n  }\r\n`;\r\n\r\nconst FileUploadArea = styled.div`\r\n  width: 100%;\r\n  max-width: 400px;\r\n  padding: 2rem;\r\n  border: 2px dashed #007bff;\r\n  border-radius: 15px;\r\n  text-align: center;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: white;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border-color: #0056b3;\r\n  }\r\n`;\r\n\r\nconst HiddenFileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst CameraCapture = ({ isOpen, onClose, onCapture }) => {\r\n  const [stream, setStream] = useState(null);\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const startCamera = useCallback(async () => {\r\n    try {\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n        video: { \r\n          facingMode: 'environment', // Sử dụng camera sau nếu có\r\n          width: { ideal: 1280 },\r\n          height: { ideal: 720 }\r\n        }\r\n      });\r\n      \r\n      setStream(mediaStream);\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error accessing camera:', error);\r\n      toast.error('Không thể truy cập camera. Vui lòng cho phép quyền camera.');\r\n    }\r\n  }, []);\r\n\r\n  const stopCamera = useCallback(() => {\r\n    if (stream) {\r\n      stream.getTracks().forEach(track => track.stop());\r\n      setStream(null);\r\n    }\r\n  }, [stream]);\r\n\r\n  const capturePhoto = useCallback(() => {\r\n    if (!videoRef.current) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    \r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(video, 0, 0);\r\n    \r\n    const imageDataUrl = canvas.toDataURL('image/jpeg', 0.8);\r\n    setCapturedImage(imageDataUrl);\r\n    stopCamera();\r\n  }, [stopCamera]);\r\n\r\n  const retakePhoto = useCallback(() => {\r\n    setCapturedImage(null);\r\n    startCamera();\r\n  }, [startCamera]);\r\n\r\n  const confirmCapture = useCallback(async () => {\r\n    if (!capturedImage) return;\r\n    \r\n    setIsProcessing(true);\r\n    try {\r\n      // Convert data URL to blob\r\n      const response = await fetch(capturedImage);\r\n      const blob = await response.blob();\r\n      \r\n      await onCapture(blob);\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error processing image:', error);\r\n      toast.error('Có lỗi xảy ra khi xử lý ảnh');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  }, [capturedImage, onCapture]);\r\n\r\n  const handleFileUpload = useCallback(async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith('image/')) {\r\n      toast.error('Vui lòng chọn file ảnh');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    try {\r\n      await onCapture(file);\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error processing uploaded file:', error);\r\n      toast.error('Có lỗi xảy ra khi xử lý ảnh');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  }, [onCapture]);\r\n\r\n  const handleClose = useCallback(() => {\r\n    stopCamera();\r\n    setCapturedImage(null);\r\n    setIsProcessing(false);\r\n    onClose();\r\n  }, [stopCamera, onClose]);\r\n\r\n  // Start camera when modal opens\r\n  useEffect(() => {\r\n    if (isOpen && !capturedImage) {\r\n      startCamera();\r\n    }\r\n    \r\n    return () => {\r\n      if (!isOpen) {\r\n        stopCamera();\r\n      }\r\n    };\r\n  }, [isOpen, capturedImage, startCamera, stopCamera]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <CameraModal>\r\n      <CloseButton onClick={handleClose}>\r\n        <X size={20} />\r\n      </CloseButton>\r\n\r\n      <CameraContainer>\r\n        {capturedImage ? (\r\n          <>\r\n            <CapturedImage src={capturedImage} alt=\"Captured receipt\" />\r\n            <CameraControls>\r\n              <ControlButton className=\"danger\" onClick={retakePhoto} title=\"Chụp lại\">\r\n                <RotateCcw size={24} />\r\n              </ControlButton>\r\n              <ControlButton \r\n                className=\"action\" \r\n                onClick={confirmCapture} \r\n                disabled={isProcessing}\r\n                title=\"Xác nhận\"\r\n              >\r\n                <Check size={24} />\r\n              </ControlButton>\r\n            </CameraControls>\r\n          </>\r\n        ) : stream ? (\r\n          <>\r\n            <VideoElement ref={videoRef} autoPlay playsInline />\r\n            <CameraControls>\r\n              <ControlButton className=\"capture\" onClick={capturePhoto} title=\"Chụp ảnh\">\r\n                <Camera size={24} color=\"#007bff\" />\r\n              </ControlButton>\r\n            </CameraControls>\r\n          </>\r\n        ) : (\r\n          <FileUploadArea onClick={() => fileInputRef.current?.click()}>\r\n            <Upload size={48} style={{ marginBottom: '1rem' }} />\r\n            <h3>Chụp ảnh hóa đơn</h3>\r\n            <p>Nhấn để chọn ảnh từ thư viện</p>\r\n            <p style={{ fontSize: '0.9rem', marginTop: '0.5rem', opacity: 0.8 }}>\r\n              Hoặc cho phép camera để chụp ảnh trực tiếp\r\n            </p>\r\n          </FileUploadArea>\r\n        )}\r\n      </CameraContainer>\r\n\r\n      <HiddenFileInput\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={handleFileUpload}\r\n      />\r\n\r\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n    </CameraModal>\r\n  );\r\n};\r\n\r\nexport default CameraCapture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}