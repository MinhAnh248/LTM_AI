{"ast":null,"code":"import axios from'axios';// LAN: const API_BASE_URL = 'http://10.67.148.12:5000/api';\n// Ngrok: Thay URL bên dưới bằng URL từ ngrok\nconst API_BASE_URL='https://uniocular-abraham-phrenetically.ngrok-free.dev/api';const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json','ngrok-skip-browser-warning':'true'}});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});// Handle token expiration\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');localStorage.removeItem('user');window.location.reload();}return Promise.reject(error);});// API endpoints\nconst apiService={// Expense operations\ngetExpenses:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/expenses',{params});},addExpense:data=>api.post('/expenses',data),deleteExpense:id=>api.delete(\"/expenses/\".concat(id)),updateExpense:(id,data)=>api.put(\"/expenses/\".concat(id),data),clearAllExpenses:()=>api.delete('/expenses/clear-all'),createSampleData:()=>api.post('/create-sample-data'),// OCR scanning\nscanReceipt:imageFile=>{const formData=new FormData();formData.append('image',imageFile);return api.post('/scan-receipt',formData,{headers:{'Content-Type':'multipart/form-data'}});},// Category prediction\npredictCategory:description=>api.post('/predict-category',{description}),// Dashboard data\ngetSummary:()=>api.get('/summary'),getCategoryBreakdown:()=>api.get('/category-breakdown'),getDailySpending:()=>api.get('/daily-spending'),// Analysis\ngetAnalysis:()=>api.get('/analysis'),// Budget\ngetBudgets:()=>api.get('/budget'),setBudget:data=>api.post('/budget',data),// Authentication\nlogin:(email,password)=>api.post('/auth/login',{email,password}),register:userData=>api.post('/auth/register',userData),logout:()=>api.post('/auth/logout'),getCurrentUser:()=>api.get('/auth/me'),// Income operations\ngetIncomes:()=>api.get('/incomes'),addIncome:data=>api.post('/incomes',data),deleteIncome:id=>api.delete(\"/incomes/\".concat(id)),updateIncome:(id,data)=>api.put(\"/incomes/\".concat(id),data),getIncomeSummary:()=>api.get('/income-summary'),// Budget Alerts\ngetBudgetAlerts:()=>api.get('/budget-alerts'),getSpendingStatus:()=>api.get('/spending-status'),// Debt Management\ngetDebts:()=>api.get('/debts'),addDebt:data=>api.post('/debts',data),deleteDebt:id=>api.delete(\"/debts/\".concat(id)),makeDebtPayment:(debtId,data)=>api.post(\"/debts/\".concat(debtId,\"/payment\"),data),getDebtSummary:()=>api.get('/debt-summary'),getPaymentHistory:debtId=>api.get('/payment-history',{params:{debt_id:debtId}}),// Savings Management\ngetSavingsGoals:()=>api.get('/savings-goals'),addSavingsGoal:data=>api.post('/savings-goals',data),deleteSavingsGoal:id=>api.delete(\"/savings-goals/\".concat(id)),makeSavingsDeposit:(goalId,data)=>api.post(\"/savings-goals/\".concat(goalId,\"/deposit\"),data),getSavingsSummary:()=>api.get('/savings-summary'),getDepositHistory:goalId=>api.get('/deposit-history',{params:{goal_id:goalId}}),getMonthlySuggestion:goalId=>api.get(\"/savings-goals/\".concat(goalId,\"/suggestion\")),// Reminder Management\ngetReminders:function(){let includeCompleted=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return api.get('/reminders',{params:{include_completed:includeCompleted}});},addReminder:data=>api.post('/reminders',data),deleteReminder:id=>api.delete(\"/reminders/\".concat(id)),completeReminder:id=>api.post(\"/reminders/\".concat(id,\"/complete\")),getDueReminders:function(){let daysAhead=arguments.length>0&&arguments[0]!==undefined?arguments[0]:7;return api.get('/due-reminders',{params:{days_ahead:daysAhead}});},getReminderSummary:()=>api.get('/reminder-summary')};export default apiService;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","response","error","_error$response","status","removeItem","window","location","reload","Promise","reject","apiService","getExpenses","params","arguments","length","undefined","get","addExpense","data","post","deleteExpense","id","delete","updateExpense","put","clearAllExpenses","createSampleData","scanReceipt","imageFile","formData","FormData","append","predictCategory","description","getSummary","getCategoryBreakdown","getDailySpending","getAnalysis","getBudgets","setBudget","login","email","password","register","userData","logout","getCurrentUser","getIncomes","addIncome","deleteIncome","updateIncome","getIncomeSummary","getBudgetAlerts","getSpendingStatus","getDebts","addDebt","deleteDebt","makeDebtPayment","debtId","getDebtSummary","getPaymentHistory","debt_id","getSavingsGoals","addSavingsGoal","deleteSavingsGoal","makeSavingsDeposit","goalId","getSavingsSummary","getDepositHistory","goal_id","getMonthlySuggestion","getReminders","includeCompleted","include_completed","addReminder","deleteReminder","completeReminder","getDueReminders","daysAhead","days_ahead","getReminderSummary"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// LAN: const API_BASE_URL = 'http://10.67.148.12:5000/api';\r\n// Ngrok: Thay URL bên dưới bằng URL từ ngrok\r\nconst API_BASE_URL = 'https://uniocular-abraham-phrenetically.ngrok-free.dev/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'ngrok-skip-browser-warning': 'true',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Handle token expiration\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.reload();\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// API endpoints\r\nconst apiService = {\r\n  // Expense operations\r\n  getExpenses: (params = {}) => api.get('/expenses', { params }),\r\n  addExpense: (data) => api.post('/expenses', data),\r\n  deleteExpense: (id) => api.delete(`/expenses/${id}`),\r\n  updateExpense: (id, data) => api.put(`/expenses/${id}`, data),\r\n  clearAllExpenses: () => api.delete('/expenses/clear-all'),\r\n  createSampleData: () => api.post('/create-sample-data'),\r\n  \r\n  // OCR scanning\r\n  scanReceipt: (imageFile) => {\r\n    const formData = new FormData();\r\n    formData.append('image', imageFile);\r\n    return api.post('/scan-receipt', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  \r\n  // Category prediction\r\n  predictCategory: (description) => api.post('/predict-category', { description }),\r\n  \r\n  // Dashboard data\r\n  getSummary: () => api.get('/summary'),\r\n  getCategoryBreakdown: () => api.get('/category-breakdown'),\r\n  getDailySpending: () => api.get('/daily-spending'),\r\n  \r\n  // Analysis\r\n  getAnalysis: () => api.get('/analysis'),\r\n  \r\n  // Budget\r\n  getBudgets: () => api.get('/budget'),\r\n  setBudget: (data) => api.post('/budget', data),\r\n  \r\n  // Authentication\r\n  login: (email, password) => api.post('/auth/login', { email, password }),\r\n  register: (userData) => api.post('/auth/register', userData),\r\n  logout: () => api.post('/auth/logout'),\r\n  getCurrentUser: () => api.get('/auth/me'),\r\n  \r\n  // Income operations\r\n  getIncomes: () => api.get('/incomes'),\r\n  addIncome: (data) => api.post('/incomes', data),\r\n  deleteIncome: (id) => api.delete(`/incomes/${id}`),\r\n  updateIncome: (id, data) => api.put(`/incomes/${id}`, data),\r\n  getIncomeSummary: () => api.get('/income-summary'),\r\n  \r\n  // Budget Alerts\r\n  getBudgetAlerts: () => api.get('/budget-alerts'),\r\n  getSpendingStatus: () => api.get('/spending-status'),\r\n  \r\n  // Debt Management\r\n  getDebts: () => api.get('/debts'),\r\n  addDebt: (data) => api.post('/debts', data),\r\n  deleteDebt: (id) => api.delete(`/debts/${id}`),\r\n  makeDebtPayment: (debtId, data) => api.post(`/debts/${debtId}/payment`, data),\r\n  getDebtSummary: () => api.get('/debt-summary'),\r\n  getPaymentHistory: (debtId) => api.get('/payment-history', { params: { debt_id: debtId } }),\r\n  \r\n  // Savings Management\r\n  getSavingsGoals: () => api.get('/savings-goals'),\r\n  addSavingsGoal: (data) => api.post('/savings-goals', data),\r\n  deleteSavingsGoal: (id) => api.delete(`/savings-goals/${id}`),\r\n  makeSavingsDeposit: (goalId, data) => api.post(`/savings-goals/${goalId}/deposit`, data),\r\n  getSavingsSummary: () => api.get('/savings-summary'),\r\n  getDepositHistory: (goalId) => api.get('/deposit-history', { params: { goal_id: goalId } }),\r\n  getMonthlySuggestion: (goalId) => api.get(`/savings-goals/${goalId}/suggestion`),\r\n  \r\n  // Reminder Management\r\n  getReminders: (includeCompleted = false) => api.get('/reminders', { params: { include_completed: includeCompleted } }),\r\n  addReminder: (data) => api.post('/reminders', data),\r\n  deleteReminder: (id) => api.delete(`/reminders/${id}`),\r\n  completeReminder: (id) => api.post(`/reminders/${id}/complete`),\r\n  getDueReminders: (daysAhead = 7) => api.get('/due-reminders', { params: { days_ahead: daysAhead } }),\r\n  getReminderSummary: () => api.get('/reminder-summary'),\r\n};\r\n\r\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}