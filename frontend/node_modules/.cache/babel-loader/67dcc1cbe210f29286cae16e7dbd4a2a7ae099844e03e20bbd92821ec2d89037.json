{"ast":null,"code":"var _jsxFileName = \"c:\\\\LTMang_AI\\\\expense_ai\\\\frontend\\\\src\\\\pages\\\\BudgetPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Target, TrendingUp, AlertTriangle, CheckCircle } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContainer = styled.div`\n  max-width: 1000px;\n  margin: 0 auto;\n`;\n_c = BudgetContainer;\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  color: #007bff;\n  margin-bottom: 0.5rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: #6c757d;\n  font-size: 1.1rem;\n`;\n_c4 = Subtitle;\nconst BudgetGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 2rem;\n  margin-bottom: 2rem;\n`;\n_c5 = BudgetGrid;\nconst BudgetCard = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 1.5rem;\n  border: 2px solid #007bff;\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\n`;\n_c6 = BudgetCard;\nconst CategoryHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n_c7 = CategoryHeader;\nconst CategoryName = styled.h3`\n  color: #007bff;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n_c8 = CategoryName;\nconst StatusIcon = styled.div`\n  color: ${props => {\n  if (props.percentage >= 100) return '#dc3545';\n  if (props.percentage >= 80) return '#ffc107';\n  return '#28a745';\n}};\n`;\n_c9 = StatusIcon;\nconst ProgressBar = styled.div`\n  width: 100%;\n  height: 12px;\n  background: #e9ecef;\n  border-radius: 6px;\n  overflow: hidden;\n  margin: 1rem 0;\n`;\n_c0 = ProgressBar;\nconst ProgressFill = styled.div`\n  height: 100%;\n  background: ${props => {\n  if (props.percentage >= 100) return 'linear-gradient(45deg, #dc3545, #c82333)';\n  if (props.percentage >= 80) return 'linear-gradient(45deg, #ffc107, #e0a800)';\n  return 'linear-gradient(45deg, #28a745, #1e7e34)';\n}};\n  width: ${props => Math.min(props.percentage, 100)}%;\n  transition: width 0.3s ease;\n`;\n_c1 = ProgressFill;\nconst BudgetInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n`;\n_c10 = BudgetInfo;\nconst BudgetText = styled.span`\n  color: #495057;\n  font-size: 0.9rem;\n`;\n_c11 = BudgetText;\nconst BudgetAmount = styled.span`\n  font-weight: bold;\n  color: ${props => props.color || '#495057'};\n`;\n_c12 = BudgetAmount;\nconst BudgetInput = styled.div`\n  margin-top: 1rem;\n  display: flex;\n  gap: 0.5rem;\n`;\n_c13 = BudgetInput;\nconst Input = styled.input`\n  flex: 1;\n  padding: 0.5rem;\n  border: 2px solid #e9ecef;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #007bff;\n  }\n`;\n_c14 = Input;\nconst SetBudgetButton = styled.button`\n  padding: 0.5rem 1rem;\n  background: linear-gradient(45deg, #007bff, #0056b3);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  \n  &:hover {\n    background: linear-gradient(45deg, #0056b3, #004085);\n  }\n`;\n_c15 = SetBudgetButton;\nconst SummaryCard = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 2rem;\n  border: 2px solid #007bff;\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\n  text-align: center;\n`;\n_c16 = SummaryCard;\nconst SummaryGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 2rem;\n  margin-top: 1.5rem;\n`;\n_c17 = SummaryGrid;\nconst SummaryItem = styled.div`\n  text-align: center;\n`;\n_c18 = SummaryItem;\nconst SummaryValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props => props.color || '#007bff'};\n  margin-bottom: 0.5rem;\n`;\n_c19 = SummaryValue;\nconst SummaryLabel = styled.div`\n  color: #6c757d;\n  font-size: 0.9rem;\n`;\n_c20 = SummaryLabel;\nconst categories = [{\n  value: 'an uong',\n  label: '🍽️ Ăn uống',\n  icon: '🍽️'\n}, {\n  value: 'di lai',\n  label: '🚗 Đi lại',\n  icon: '🚗'\n}, {\n  value: 'hoc tap',\n  label: '📚 Học tập',\n  icon: '📚'\n}, {\n  value: 'giai tri',\n  label: '🎮 Giải trí',\n  icon: '🎮'\n}, {\n  value: 'hoa don',\n  label: '💡 Hóa đơn',\n  icon: '💡'\n}, {\n  value: 'khac',\n  label: '📦 Khác',\n  icon: '📦'\n}];\nconst BudgetPage = () => {\n  _s();\n  const [budgets, setBudgets] = useState({});\n  const [spending, setSpending] = useState({});\n  const [newBudgets, setNewBudgets] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadBudgetData();\n  }, []);\n  const loadBudgetData = async () => {\n    try {\n      const [budgetRes, spendingRes, statusRes] = await Promise.all([api.getBudgets(), api.getCategoryBreakdown(), api.getSpendingStatus()]);\n      setBudgets(budgetRes.data);\n\n      // Convert spending array to object\n      const spendingObj = {};\n      spendingRes.data.forEach(item => {\n        spendingObj[item.category] = item.amount;\n      });\n      setSpending(spendingObj);\n\n      // Cập nhật thêm thông tin từ spending status nếu cần\n      console.log('Spending status:', statusRes.data);\n    } catch (error) {\n      console.error('Error loading budget data:', error);\n      toast.error('Không thể tải dữ liệu ngân sách');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSetBudget = async category => {\n    const amount = newBudgets[category];\n    if (!amount || amount <= 0) {\n      toast.error('Vui lòng nhập số tiền hợp lệ');\n      return;\n    }\n    try {\n      await api.setBudget({\n        category,\n        limit: parseFloat(amount)\n      });\n      setBudgets(prev => ({\n        ...prev,\n        [category]: parseFloat(amount)\n      }));\n      setNewBudgets(prev => ({\n        ...prev,\n        [category]: ''\n      }));\n      toast.success('Đã cập nhật ngân sách thành công!');\n    } catch (error) {\n      console.error('Error setting budget:', error);\n      toast.error('Có lỗi xảy ra khi cập nhật ngân sách');\n    }\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount || 0);\n  };\n  const getSpendingPercentage = category => {\n    const spent = spending[category] || 0;\n    const budget = budgets[category] || 0;\n    return budget > 0 ? spent / budget * 100 : 0;\n  };\n  const getStatusIcon = percentage => {\n    if (percentage >= 100) return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 35\n    }, this);\n    if (percentage >= 80) return /*#__PURE__*/_jsxDEV(TrendingUp, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 34\n    }, this);\n    return /*#__PURE__*/_jsxDEV(CheckCircle, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 12\n    }, this);\n  };\n  const getTotalBudget = () => {\n    return Object.values(budgets).reduce((sum, budget) => sum + (budget || 0), 0);\n  };\n  const getTotalSpending = () => {\n    return Object.values(spending).reduce((sum, spent) => sum + (spent || 0), 0);\n  };\n  const getOverBudgetCategories = () => {\n    return categories.filter(cat => getSpendingPercentage(cat.value) >= 100).length;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0110ang t\\u1EA3i...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uD83C\\uDFAF Qu\\u1EA3n l\\xFD Ng\\xE2n s\\xE1ch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"Theo d\\xF5i v\\xE0 ki\\u1EC3m so\\xE1t chi ti\\xEAu theo t\\u1EEBng danh m\\u1EE5c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCCA T\\u1ED5ng quan Ng\\xE2n s\\xE1ch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryGrid, {\n        children: [/*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: \"#007bff\",\n            children: formatCurrency(getTotalBudget())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"T\\u1ED5ng ng\\xE2n s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: \"#dc3545\",\n            children: formatCurrency(getTotalSpending())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"\\u0110\\xE3 chi ti\\xEAu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: getTotalBudget() - getTotalSpending() >= 0 ? '#28a745' : '#dc3545',\n            children: formatCurrency(getTotalBudget() - getTotalSpending())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"C\\xF2n l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: getOverBudgetCategories() > 0 ? '#dc3545' : '#28a745',\n            children: getOverBudgetCategories()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"V\\u01B0\\u1EE3t ng\\xE2n s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BudgetGrid, {\n      children: categories.map(category => {\n        const percentage = getSpendingPercentage(category.value);\n        const spent = spending[category.value] || 0;\n        const budget = budgets[category.value] || 0;\n        const remaining = budget - spent;\n        return /*#__PURE__*/_jsxDEV(BudgetCard, {\n          children: [/*#__PURE__*/_jsxDEV(CategoryHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CategoryName, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: category.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), category.label]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StatusIcon, {\n              percentage: percentage,\n              children: getStatusIcon(percentage)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n            children: /*#__PURE__*/_jsxDEV(ProgressFill, {\n              percentage: percentage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"\\u0110\\xE3 chi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: \"#dc3545\",\n              children: formatCurrency(spent)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"Ng\\xE2n s\\xE1ch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: \"#007bff\",\n              children: formatCurrency(budget)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"C\\xF2n l\\u1EA1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: remaining >= 0 ? '#28a745' : '#dc3545',\n              children: formatCurrency(remaining)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"Ti\\u1EBFn \\u0111\\u1ED9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: percentage >= 100 ? '#dc3545' : '#007bff',\n              children: [percentage.toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInput, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Nh\\u1EADp ng\\xE2n s\\xE1ch m\\u1EDBi...\",\n              value: newBudgets[category.value] || '',\n              onChange: e => setNewBudgets(prev => ({\n                ...prev,\n                [category.value]: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SetBudgetButton, {\n              onClick: () => handleSetBudget(category.value),\n              children: /*#__PURE__*/_jsxDEV(Target, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, category.value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n_s(BudgetPage, \"ljBQsrWlEuXODsD/WEhPIMwQ9KQ=\");\n_c21 = BudgetPage;\nexport default BudgetPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"BudgetContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"BudgetGrid\");\n$RefreshReg$(_c6, \"BudgetCard\");\n$RefreshReg$(_c7, \"CategoryHeader\");\n$RefreshReg$(_c8, \"CategoryName\");\n$RefreshReg$(_c9, \"StatusIcon\");\n$RefreshReg$(_c0, \"ProgressBar\");\n$RefreshReg$(_c1, \"ProgressFill\");\n$RefreshReg$(_c10, \"BudgetInfo\");\n$RefreshReg$(_c11, \"BudgetText\");\n$RefreshReg$(_c12, \"BudgetAmount\");\n$RefreshReg$(_c13, \"BudgetInput\");\n$RefreshReg$(_c14, \"Input\");\n$RefreshReg$(_c15, \"SetBudgetButton\");\n$RefreshReg$(_c16, \"SummaryCard\");\n$RefreshReg$(_c17, \"SummaryGrid\");\n$RefreshReg$(_c18, \"SummaryItem\");\n$RefreshReg$(_c19, \"SummaryValue\");\n$RefreshReg$(_c20, \"SummaryLabel\");\n$RefreshReg$(_c21, \"BudgetPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","Target","TrendingUp","AlertTriangle","CheckCircle","toast","api","jsxDEV","_jsxDEV","BudgetContainer","div","_c","Header","_c2","Title","h1","_c3","Subtitle","p","_c4","BudgetGrid","_c5","BudgetCard","_c6","CategoryHeader","_c7","CategoryName","h3","_c8","StatusIcon","props","percentage","_c9","ProgressBar","_c0","ProgressFill","Math","min","_c1","BudgetInfo","_c10","BudgetText","span","_c11","BudgetAmount","color","_c12","BudgetInput","_c13","Input","input","_c14","SetBudgetButton","button","_c15","SummaryCard","_c16","SummaryGrid","_c17","SummaryItem","_c18","SummaryValue","_c19","SummaryLabel","_c20","categories","value","label","icon","BudgetPage","_s","budgets","setBudgets","spending","setSpending","newBudgets","setNewBudgets","loading","setLoading","loadBudgetData","budgetRes","spendingRes","statusRes","Promise","all","getBudgets","getCategoryBreakdown","getSpendingStatus","data","spendingObj","forEach","item","category","amount","console","log","error","handleSetBudget","setBudget","limit","parseFloat","prev","success","formatCurrency","Intl","NumberFormat","style","currency","format","getSpendingPercentage","spent","budget","getStatusIcon","size","fileName","_jsxFileName","lineNumber","columnNumber","getTotalBudget","Object","values","reduce","sum","getTotalSpending","getOverBudgetCategories","filter","cat","length","children","map","remaining","toFixed","type","placeholder","onChange","e","target","onClick","_c21","$RefreshReg$"],"sources":["c:/LTMang_AI/expense_ai/frontend/src/pages/BudgetPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Target, TrendingUp, AlertTriangle, CheckCircle } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\nimport api from '../services/api';\r\n\r\nconst BudgetContainer = styled.div`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #007bff;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  color: #6c757d;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst BudgetGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst BudgetCard = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 1.5rem;\r\n  border: 2px solid #007bff;\r\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\r\n`;\r\n\r\nconst CategoryHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst CategoryName = styled.h3`\r\n  color: #007bff;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst StatusIcon = styled.div`\r\n  color: ${props => {\r\n    if (props.percentage >= 100) return '#dc3545';\r\n    if (props.percentage >= 80) return '#ffc107';\r\n    return '#28a745';\r\n  }};\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 12px;\r\n  background: #e9ecef;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background: ${props => {\r\n    if (props.percentage >= 100) return 'linear-gradient(45deg, #dc3545, #c82333)';\r\n    if (props.percentage >= 80) return 'linear-gradient(45deg, #ffc107, #e0a800)';\r\n    return 'linear-gradient(45deg, #28a745, #1e7e34)';\r\n  }};\r\n  width: ${props => Math.min(props.percentage, 100)}%;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nconst BudgetInfo = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst BudgetText = styled.span`\r\n  color: #495057;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst BudgetAmount = styled.span`\r\n  font-weight: bold;\r\n  color: ${props => props.color || '#495057'};\r\n`;\r\n\r\nconst BudgetInput = styled.div`\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 2px solid #e9ecef;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #007bff;\r\n  }\r\n`;\r\n\r\nconst SetBudgetButton = styled.button`\r\n  padding: 0.5rem 1rem;\r\n  background: linear-gradient(45deg, #007bff, #0056b3);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  \r\n  &:hover {\r\n    background: linear-gradient(45deg, #0056b3, #004085);\r\n  }\r\n`;\r\n\r\nconst SummaryCard = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 2rem;\r\n  border: 2px solid #007bff;\r\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\r\n  text-align: center;\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 2rem;\r\n  margin-top: 1.5rem;\r\n`;\r\n\r\nconst SummaryItem = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst SummaryValue = styled.div`\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: ${props => props.color || '#007bff'};\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst SummaryLabel = styled.div`\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst categories = [\r\n  { value: 'an uong', label: '🍽️ Ăn uống', icon: '🍽️' },\r\n  { value: 'di lai', label: '🚗 Đi lại', icon: '🚗' },\r\n  { value: 'hoc tap', label: '📚 Học tập', icon: '📚' },\r\n  { value: 'giai tri', label: '🎮 Giải trí', icon: '🎮' },\r\n  { value: 'hoa don', label: '💡 Hóa đơn', icon: '💡' },\r\n  { value: 'khac', label: '📦 Khác', icon: '📦' }\r\n];\r\n\r\nconst BudgetPage = () => {\r\n  const [budgets, setBudgets] = useState({});\r\n  const [spending, setSpending] = useState({});\r\n  const [newBudgets, setNewBudgets] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadBudgetData();\r\n  }, []);\r\n\r\n  const loadBudgetData = async () => {\r\n    try {\r\n      const [budgetRes, spendingRes, statusRes] = await Promise.all([\r\n        api.getBudgets(),\r\n        api.getCategoryBreakdown(),\r\n        api.getSpendingStatus()\r\n      ]);\r\n\r\n      setBudgets(budgetRes.data);\r\n      \r\n      // Convert spending array to object\r\n      const spendingObj = {};\r\n      spendingRes.data.forEach(item => {\r\n        spendingObj[item.category] = item.amount;\r\n      });\r\n      setSpending(spendingObj);\r\n      \r\n      // Cập nhật thêm thông tin từ spending status nếu cần\r\n      console.log('Spending status:', statusRes.data);\r\n    } catch (error) {\r\n      console.error('Error loading budget data:', error);\r\n      toast.error('Không thể tải dữ liệu ngân sách');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSetBudget = async (category) => {\r\n    const amount = newBudgets[category];\r\n    if (!amount || amount <= 0) {\r\n      toast.error('Vui lòng nhập số tiền hợp lệ');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.setBudget({ category, limit: parseFloat(amount) });\r\n      setBudgets(prev => ({ ...prev, [category]: parseFloat(amount) }));\r\n      setNewBudgets(prev => ({ ...prev, [category]: '' }));\r\n      toast.success('Đã cập nhật ngân sách thành công!');\r\n    } catch (error) {\r\n      console.error('Error setting budget:', error);\r\n      toast.error('Có lỗi xảy ra khi cập nhật ngân sách');\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const getSpendingPercentage = (category) => {\r\n    const spent = spending[category] || 0;\r\n    const budget = budgets[category] || 0;\r\n    return budget > 0 ? (spent / budget) * 100 : 0;\r\n  };\r\n\r\n  const getStatusIcon = (percentage) => {\r\n    if (percentage >= 100) return <AlertTriangle size={20} />;\r\n    if (percentage >= 80) return <TrendingUp size={20} />;\r\n    return <CheckCircle size={20} />;\r\n  };\r\n\r\n  const getTotalBudget = () => {\r\n    return Object.values(budgets).reduce((sum, budget) => sum + (budget || 0), 0);\r\n  };\r\n\r\n  const getTotalSpending = () => {\r\n    return Object.values(spending).reduce((sum, spent) => sum + (spent || 0), 0);\r\n  };\r\n\r\n  const getOverBudgetCategories = () => {\r\n    return categories.filter(cat => getSpendingPercentage(cat.value) >= 100).length;\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Đang tải...</div>;\r\n  }\r\n\r\n  return (\r\n    <BudgetContainer>\r\n      <Header>\r\n        <Title>🎯 Quản lý Ngân sách</Title>\r\n        <Subtitle>Theo dõi và kiểm soát chi tiêu theo từng danh mục</Subtitle>\r\n      </Header>\r\n\r\n      <SummaryCard>\r\n        <h2>📊 Tổng quan Ngân sách</h2>\r\n        <SummaryGrid>\r\n          <SummaryItem>\r\n            <SummaryValue color=\"#007bff\">\r\n              {formatCurrency(getTotalBudget())}\r\n            </SummaryValue>\r\n            <SummaryLabel>Tổng ngân sách</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color=\"#dc3545\">\r\n              {formatCurrency(getTotalSpending())}\r\n            </SummaryValue>\r\n            <SummaryLabel>Đã chi tiêu</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color={getTotalBudget() - getTotalSpending() >= 0 ? '#28a745' : '#dc3545'}>\r\n              {formatCurrency(getTotalBudget() - getTotalSpending())}\r\n            </SummaryValue>\r\n            <SummaryLabel>Còn lại</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color={getOverBudgetCategories() > 0 ? '#dc3545' : '#28a745'}>\r\n              {getOverBudgetCategories()}\r\n            </SummaryValue>\r\n            <SummaryLabel>Vượt ngân sách</SummaryLabel>\r\n          </SummaryItem>\r\n        </SummaryGrid>\r\n      </SummaryCard>\r\n\r\n      <BudgetGrid>\r\n        {categories.map(category => {\r\n          const percentage = getSpendingPercentage(category.value);\r\n          const spent = spending[category.value] || 0;\r\n          const budget = budgets[category.value] || 0;\r\n          const remaining = budget - spent;\r\n\r\n          return (\r\n            <BudgetCard key={category.value}>\r\n              <CategoryHeader>\r\n                <CategoryName>\r\n                  <span>{category.icon}</span>\r\n                  {category.label}\r\n                </CategoryName>\r\n                <StatusIcon percentage={percentage}>\r\n                  {getStatusIcon(percentage)}\r\n                </StatusIcon>\r\n              </CategoryHeader>\r\n\r\n              <ProgressBar>\r\n                <ProgressFill percentage={percentage} />\r\n              </ProgressBar>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Đã chi:</BudgetText>\r\n                <BudgetAmount color=\"#dc3545\">\r\n                  {formatCurrency(spent)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Ngân sách:</BudgetText>\r\n                <BudgetAmount color=\"#007bff\">\r\n                  {formatCurrency(budget)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Còn lại:</BudgetText>\r\n                <BudgetAmount color={remaining >= 0 ? '#28a745' : '#dc3545'}>\r\n                  {formatCurrency(remaining)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Tiến độ:</BudgetText>\r\n                <BudgetAmount color={percentage >= 100 ? '#dc3545' : '#007bff'}>\r\n                  {percentage.toFixed(1)}%\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInput>\r\n                <Input\r\n                  type=\"number\"\r\n                  placeholder=\"Nhập ngân sách mới...\"\r\n                  value={newBudgets[category.value] || ''}\r\n                  onChange={(e) => setNewBudgets(prev => ({\r\n                    ...prev,\r\n                    [category.value]: e.target.value\r\n                  }))}\r\n                />\r\n                <SetBudgetButton onClick={() => handleSetBudget(category.value)}>\r\n                  <Target size={16} />\r\n                </SetBudgetButton>\r\n              </BudgetInput>\r\n            </BudgetCard>\r\n          );\r\n        })}\r\n      </BudgetGrid>\r\n    </BudgetContainer>\r\n  );\r\n};\r\n\r\nexport default BudgetPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}