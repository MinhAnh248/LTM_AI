{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/LTMang_AI/expense_ai/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10;import React,{useState,useEffect}from'react';import styled from'styled-components';import{AlertTriangle,TrendingUp,CheckCircle,XCircle}from'lucide-react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlertsContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-bottom: 2rem;\\n\"])));const AlertsHeader=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  margin-bottom: 1rem;\\n\"])));const AlertsTitle=styled.h3(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  color: #495057;\\n  margin: 0;\\n\"])));const AlertsList=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.75rem;\\n\"])));const AlertCard=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  border-radius: 10px;\\n  border-left: 4px solid \",\";\\n  background: \",\";\\n  display: flex;\\n  align-items: center;\\n  gap: 1rem;\\n\"])),props=>props.type==='danger'?'#dc3545':props.type==='warning'?'#ffc107':'#28a745',props=>props.type==='danger'?'rgba(220, 53, 69, 0.1)':props.type==='warning'?'rgba(255, 193, 7, 0.1)':'rgba(40, 167, 69, 0.1)');const AlertIcon=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"])),props=>props.type==='danger'?'#dc3545':props.type==='warning'?'#ffc107':'#28a745');const AlertContent=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));const AlertMessage=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #495057;\\n  margin-bottom: 0.25rem;\\n\"])));const AlertDetails=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n\"])));const ProgressBar=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  width: 100px;\\n  height: 8px;\\n  background: #e9ecef;\\n  border-radius: 4px;\\n  overflow: hidden;\\n\"])));const ProgressFill=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  background: \",\";\\n  width: \",\"%;\\n  transition: width 0.3s ease;\\n\"])),props=>props.percentage>=100?'#dc3545':props.percentage>=80?'#ffc107':'#28a745',props=>Math.min(props.percentage,100));const NoAlertsMessage=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 2rem;\\n  color: #28a745;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.5rem;\\n  background: rgba(40, 167, 69, 0.1);\\n  border-radius: 10px;\\n  border: 1px solid rgba(40, 167, 69, 0.2);\\n\"])));const BudgetAlerts=()=>{const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadAlerts();},[]);const loadAlerts=async()=>{try{const response=await api.getBudgetAlerts();setAlerts(Array.isArray(response.data)?response.data:[]);}catch(error){console.error('Error loading budget alerts:',error);setAlerts([]);}finally{setLoading(false);}};const formatCurrency=amount=>{return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(amount);};const getAlertIcon=type=>{switch(type){case'danger':return/*#__PURE__*/_jsx(XCircle,{size:20});case'warning':return/*#__PURE__*/_jsx(AlertTriangle,{size:20});default:return/*#__PURE__*/_jsx(CheckCircle,{size:20});}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0110ang t\\u1EA3i c\\u1EA3nh b\\xE1o...\"});}return/*#__PURE__*/_jsxs(AlertsContainer,{children:[/*#__PURE__*/_jsxs(AlertsHeader,{children:[/*#__PURE__*/_jsx(AlertTriangle,{size:20}),/*#__PURE__*/_jsx(AlertsTitle,{children:\"C\\u1EA3nh b\\xE1o Ng\\xE2n s\\xE1ch\"})]}),alerts.length===0?/*#__PURE__*/_jsxs(NoAlertsMessage,{children:[/*#__PURE__*/_jsx(CheckCircle,{size:20}),\"T\\u1EA5t c\\u1EA3 ng\\xE2n s\\xE1ch \\u0111\\u1EC1u trong t\\u1EA7m ki\\u1EC3m so\\xE1t!\"]}):/*#__PURE__*/_jsx(AlertsList,{children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(AlertCard,{type:alert.alert_type,children:[/*#__PURE__*/_jsx(AlertIcon,{type:alert.alert_type,children:getAlertIcon(alert.alert_type)}),/*#__PURE__*/_jsxs(AlertContent,{children:[/*#__PURE__*/_jsx(AlertMessage,{children:alert.message}),/*#__PURE__*/_jsxs(AlertDetails,{children:[\"\\u0110\\xE3 chi: \",formatCurrency(alert.current_spent),\" / \",formatCurrency(alert.budget_limit)]})]}),/*#__PURE__*/_jsx(ProgressBar,{children:/*#__PURE__*/_jsx(ProgressFill,{percentage:alert.percentage})})]},index))})]});};export default BudgetAlerts;","map":{"version":3,"names":["React","useState","useEffect","styled","AlertTriangle","TrendingUp","CheckCircle","XCircle","api","jsx","_jsx","jsxs","_jsxs","AlertsContainer","div","_templateObject","_taggedTemplateLiteral","AlertsHeader","_templateObject2","AlertsTitle","h3","_templateObject3","AlertsList","_templateObject4","AlertCard","_templateObject5","props","type","AlertIcon","_templateObject6","AlertContent","_templateObject7","AlertMessage","_templateObject8","AlertDetails","_templateObject9","ProgressBar","_templateObject0","ProgressFill","_templateObject1","percentage","Math","min","NoAlertsMessage","_templateObject10","BudgetAlerts","alerts","setAlerts","loading","setLoading","loadAlerts","response","getBudgetAlerts","Array","isArray","data","error","console","formatCurrency","amount","Intl","NumberFormat","style","currency","format","getAlertIcon","size","children","length","map","alert","index","alert_type","message","current_spent","budget_limit"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/components/BudgetAlerts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { AlertTriangle, TrendingUp, CheckCircle, XCircle } from 'lucide-react';\r\nimport api from '../services/api';\r\n\r\nconst AlertsContainer = styled.div`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst AlertsHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst AlertsTitle = styled.h3`\r\n  color: #495057;\r\n  margin: 0;\r\n`;\r\n\r\nconst AlertsList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n`;\r\n\r\nconst AlertCard = styled.div`\r\n  padding: 1rem;\r\n  border-radius: 10px;\r\n  border-left: 4px solid ${props => \r\n    props.type === 'danger' ? '#dc3545' : \r\n    props.type === 'warning' ? '#ffc107' : '#28a745'\r\n  };\r\n  background: ${props => \r\n    props.type === 'danger' ? 'rgba(220, 53, 69, 0.1)' : \r\n    props.type === 'warning' ? 'rgba(255, 193, 7, 0.1)' : 'rgba(40, 167, 69, 0.1)'\r\n  };\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst AlertIcon = styled.div`\r\n  color: ${props => \r\n    props.type === 'danger' ? '#dc3545' : \r\n    props.type === 'warning' ? '#ffc107' : '#28a745'\r\n  };\r\n`;\r\n\r\nconst AlertContent = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst AlertMessage = styled.div`\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin-bottom: 0.25rem;\r\n`;\r\n\r\nconst AlertDetails = styled.div`\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100px;\r\n  height: 8px;\r\n  background: #e9ecef;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background: ${props => \r\n    props.percentage >= 100 ? '#dc3545' : \r\n    props.percentage >= 80 ? '#ffc107' : '#28a745'\r\n  };\r\n  width: ${props => Math.min(props.percentage, 100)}%;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nconst NoAlertsMessage = styled.div`\r\n  text-align: center;\r\n  padding: 2rem;\r\n  color: #28a745;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  background: rgba(40, 167, 69, 0.1);\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(40, 167, 69, 0.2);\r\n`;\r\n\r\nconst BudgetAlerts = () => {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadAlerts();\r\n  }, []);\r\n\r\n  const loadAlerts = async () => {\r\n    try {\r\n      const response = await api.getBudgetAlerts();\r\n      setAlerts(Array.isArray(response.data) ? response.data : []);\r\n    } catch (error) {\r\n      console.error('Error loading budget alerts:', error);\r\n      setAlerts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getAlertIcon = (type) => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return <XCircle size={20} />;\r\n      case 'warning':\r\n        return <AlertTriangle size={20} />;\r\n      default:\r\n        return <CheckCircle size={20} />;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Đang tải cảnh báo...</div>;\r\n  }\r\n\r\n  return (\r\n    <AlertsContainer>\r\n      <AlertsHeader>\r\n        <AlertTriangle size={20} />\r\n        <AlertsTitle>Cảnh báo Ngân sách</AlertsTitle>\r\n      </AlertsHeader>\r\n\r\n      {alerts.length === 0 ? (\r\n        <NoAlertsMessage>\r\n          <CheckCircle size={20} />\r\n          Tất cả ngân sách đều trong tầm kiểm soát!\r\n        </NoAlertsMessage>\r\n      ) : (\r\n        <AlertsList>\r\n          {alerts.map((alert, index) => (\r\n            <AlertCard key={index} type={alert.alert_type}>\r\n              <AlertIcon type={alert.alert_type}>\r\n                {getAlertIcon(alert.alert_type)}\r\n              </AlertIcon>\r\n              \r\n              <AlertContent>\r\n                <AlertMessage>{alert.message}</AlertMessage>\r\n                <AlertDetails>\r\n                  Đã chi: {formatCurrency(alert.current_spent)} / {formatCurrency(alert.budget_limit)}\r\n                </AlertDetails>\r\n              </AlertContent>\r\n              \r\n              <ProgressBar>\r\n                <ProgressFill percentage={alert.percentage} />\r\n              </ProgressBar>\r\n            </AlertCard>\r\n          ))}\r\n        </AlertsList>\r\n      )}\r\n    </AlertsContainer>\r\n  );\r\n};\r\n\r\nexport default BudgetAlerts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}