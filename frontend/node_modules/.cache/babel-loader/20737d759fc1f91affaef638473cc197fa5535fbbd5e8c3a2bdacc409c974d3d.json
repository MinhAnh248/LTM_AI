{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/LTMang_AI/expense_ai/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10;import React,{useState,useEffect}from'react';import styled from'styled-components';import{AlertTriangle,TrendingUp,CheckCircle,XCircle}from'lucide-react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlertsContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-bottom: 2rem;\\n\"])));const AlertsHeader=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  margin-bottom: 1rem;\\n\"])));const AlertsTitle=styled.h3(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  color: #495057;\\n  margin: 0;\\n\"])));const AlertsList=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.75rem;\\n\"])));const AlertCard=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  border-radius: 10px;\\n  border-left: 4px solid \",\";\\n  background: \",\";\\n  display: flex;\\n  align-items: center;\\n  gap: 1rem;\\n\"])),props=>props.type==='danger'?'#dc3545':props.type==='warning'?'#ffc107':'#28a745',props=>props.type==='danger'?'rgba(220, 53, 69, 0.1)':props.type==='warning'?'rgba(255, 193, 7, 0.1)':'rgba(40, 167, 69, 0.1)');const AlertIcon=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"])),props=>props.type==='danger'?'#dc3545':props.type==='warning'?'#ffc107':'#28a745');const AlertContent=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));const AlertMessage=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #495057;\\n  margin-bottom: 0.25rem;\\n\"])));const AlertDetails=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n\"])));const ProgressBar=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  width: 100px;\\n  height: 8px;\\n  background: #e9ecef;\\n  border-radius: 4px;\\n  overflow: hidden;\\n\"])));const ProgressFill=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  background: \",\";\\n  width: \",\"%;\\n  transition: width 0.3s ease;\\n\"])),props=>props.percentage>=100?'#dc3545':props.percentage>=80?'#ffc107':'#28a745',props=>Math.min(props.percentage,100));const NoAlertsMessage=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 2rem;\\n  color: #28a745;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.5rem;\\n  background: rgba(40, 167, 69, 0.1);\\n  border-radius: 10px;\\n  border: 1px solid rgba(40, 167, 69, 0.2);\\n\"])));const BudgetAlerts=()=>{const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadAlerts();},[]);const loadAlerts=async()=>{try{const response=await api.getBudgetAlerts();setAlerts(response.data);}catch(error){console.error('Error loading budget alerts:',error);}finally{setLoading(false);}};const formatCurrency=amount=>{return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(amount);};const getAlertIcon=type=>{switch(type){case'danger':return/*#__PURE__*/_jsx(XCircle,{size:20});case'warning':return/*#__PURE__*/_jsx(AlertTriangle,{size:20});default:return/*#__PURE__*/_jsx(CheckCircle,{size:20});}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0110ang t\\u1EA3i c\\u1EA3nh b\\xE1o...\"});}return/*#__PURE__*/_jsxs(AlertsContainer,{children:[/*#__PURE__*/_jsxs(AlertsHeader,{children:[/*#__PURE__*/_jsx(AlertTriangle,{size:20}),/*#__PURE__*/_jsx(AlertsTitle,{children:\"C\\u1EA3nh b\\xE1o Ng\\xE2n s\\xE1ch\"})]}),alerts.length===0?/*#__PURE__*/_jsxs(NoAlertsMessage,{children:[/*#__PURE__*/_jsx(CheckCircle,{size:20}),\"T\\u1EA5t c\\u1EA3 ng\\xE2n s\\xE1ch \\u0111\\u1EC1u trong t\\u1EA7m ki\\u1EC3m so\\xE1t!\"]}):/*#__PURE__*/_jsx(AlertsList,{children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(AlertCard,{type:alert.alert_type,children:[/*#__PURE__*/_jsx(AlertIcon,{type:alert.alert_type,children:getAlertIcon(alert.alert_type)}),/*#__PURE__*/_jsxs(AlertContent,{children:[/*#__PURE__*/_jsx(AlertMessage,{children:alert.message}),/*#__PURE__*/_jsxs(AlertDetails,{children:[\"\\u0110\\xE3 chi: \",formatCurrency(alert.current_spent),\" / \",formatCurrency(alert.budget_limit)]})]}),/*#__PURE__*/_jsx(ProgressBar,{children:/*#__PURE__*/_jsx(ProgressFill,{percentage:alert.percentage})})]},index))})]});};export default BudgetAlerts;","map":{"version":3,"names":["React","useState","useEffect","styled","AlertTriangle","TrendingUp","CheckCircle","XCircle","api","jsx","_jsx","jsxs","_jsxs","AlertsContainer","div","_templateObject","_taggedTemplateLiteral","AlertsHeader","_templateObject2","AlertsTitle","h3","_templateObject3","AlertsList","_templateObject4","AlertCard","_templateObject5","props","type","AlertIcon","_templateObject6","AlertContent","_templateObject7","AlertMessage","_templateObject8","AlertDetails","_templateObject9","ProgressBar","_templateObject0","ProgressFill","_templateObject1","percentage","Math","min","NoAlertsMessage","_templateObject10","BudgetAlerts","alerts","setAlerts","loading","setLoading","loadAlerts","response","getBudgetAlerts","data","error","console","formatCurrency","amount","Intl","NumberFormat","style","currency","format","getAlertIcon","size","children","length","map","alert","index","alert_type","message","current_spent","budget_limit"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/components/BudgetAlerts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { AlertTriangle, TrendingUp, CheckCircle, XCircle } from 'lucide-react';\nimport api from '../services/api';\n\nconst AlertsContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst AlertsHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n`;\n\nconst AlertsTitle = styled.h3`\n  color: #495057;\n  margin: 0;\n`;\n\nconst AlertsList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n`;\n\nconst AlertCard = styled.div`\n  padding: 1rem;\n  border-radius: 10px;\n  border-left: 4px solid ${props => \n    props.type === 'danger' ? '#dc3545' : \n    props.type === 'warning' ? '#ffc107' : '#28a745'\n  };\n  background: ${props => \n    props.type === 'danger' ? 'rgba(220, 53, 69, 0.1)' : \n    props.type === 'warning' ? 'rgba(255, 193, 7, 0.1)' : 'rgba(40, 167, 69, 0.1)'\n  };\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst AlertIcon = styled.div`\n  color: ${props => \n    props.type === 'danger' ? '#dc3545' : \n    props.type === 'warning' ? '#ffc107' : '#28a745'\n  };\n`;\n\nconst AlertContent = styled.div`\n  flex: 1;\n`;\n\nconst AlertMessage = styled.div`\n  font-weight: 600;\n  color: #495057;\n  margin-bottom: 0.25rem;\n`;\n\nconst AlertDetails = styled.div`\n  font-size: 0.9rem;\n  color: #6c757d;\n`;\n\nconst ProgressBar = styled.div`\n  width: 100px;\n  height: 8px;\n  background: #e9ecef;\n  border-radius: 4px;\n  overflow: hidden;\n`;\n\nconst ProgressFill = styled.div`\n  height: 100%;\n  background: ${props => \n    props.percentage >= 100 ? '#dc3545' : \n    props.percentage >= 80 ? '#ffc107' : '#28a745'\n  };\n  width: ${props => Math.min(props.percentage, 100)}%;\n  transition: width 0.3s ease;\n`;\n\nconst NoAlertsMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: #28a745;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  background: rgba(40, 167, 69, 0.1);\n  border-radius: 10px;\n  border: 1px solid rgba(40, 167, 69, 0.2);\n`;\n\nconst BudgetAlerts = () => {\n  const [alerts, setAlerts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadAlerts();\n  }, []);\n\n  const loadAlerts = async () => {\n    try {\n      const response = await api.getBudgetAlerts();\n      setAlerts(response.data);\n    } catch (error) {\n      console.error('Error loading budget alerts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount);\n  };\n\n  const getAlertIcon = (type) => {\n    switch (type) {\n      case 'danger':\n        return <XCircle size={20} />;\n      case 'warning':\n        return <AlertTriangle size={20} />;\n      default:\n        return <CheckCircle size={20} />;\n    }\n  };\n\n  if (loading) {\n    return <div>Đang tải cảnh báo...</div>;\n  }\n\n  return (\n    <AlertsContainer>\n      <AlertsHeader>\n        <AlertTriangle size={20} />\n        <AlertsTitle>Cảnh báo Ngân sách</AlertsTitle>\n      </AlertsHeader>\n\n      {alerts.length === 0 ? (\n        <NoAlertsMessage>\n          <CheckCircle size={20} />\n          Tất cả ngân sách đều trong tầm kiểm soát!\n        </NoAlertsMessage>\n      ) : (\n        <AlertsList>\n          {alerts.map((alert, index) => (\n            <AlertCard key={index} type={alert.alert_type}>\n              <AlertIcon type={alert.alert_type}>\n                {getAlertIcon(alert.alert_type)}\n              </AlertIcon>\n              \n              <AlertContent>\n                <AlertMessage>{alert.message}</AlertMessage>\n                <AlertDetails>\n                  Đã chi: {formatCurrency(alert.current_spent)} / {formatCurrency(alert.budget_limit)}\n                </AlertDetails>\n              </AlertContent>\n              \n              <ProgressBar>\n                <ProgressFill percentage={alert.percentage} />\n              </ProgressBar>\n            </AlertCard>\n          ))}\n        </AlertsList>\n      )}\n    </AlertsContainer>\n  );\n};\n\nexport default BudgetAlerts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}