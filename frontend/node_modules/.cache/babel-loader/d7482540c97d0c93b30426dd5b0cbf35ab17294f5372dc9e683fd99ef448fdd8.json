{"ast":null,"code":"import _objectSpread from\"C:/LTMang_AI/expense_ai/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/LTMang_AI/expense_ai/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17;import{useState,useEffect}from'react';import styled from'styled-components';import{Check,X,Edit3,Eye,EyeOff}from'lucide-react';import{toast}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviewModal=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.8);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 1000;\\n  padding: 1rem;\\n\"])));const PreviewContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 20px;\\n  max-width: 800px;\\n  width: 100%;\\n  max-height: 90vh;\\n  overflow-y: auto;\\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\\n\"])));const PreviewHeader=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 1.5rem;\\n  border-bottom: 2px solid #e9ecef;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));const PreviewTitle=styled.h2(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: #007bff;\\n  margin: 0;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n\"])));const CloseButton=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  background: none;\\n  border: none;\\n  color: #6c757d;\\n  cursor: pointer;\\n  padding: 0.5rem;\\n  border-radius: 50%;\\n  \\n  &:hover {\\n    background: #f8f9fa;\\n    color: #dc3545;\\n  }\\n\"])));const PreviewContent=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  padding: 1.5rem;\\n\"])));const SectionGrid=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 2rem;\\n  margin-bottom: 2rem;\\n  \\n  @media (max-width: 768px) {\\n    grid-template-columns: 1fr;\\n  }\\n\"])));const Section=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  background: #f8f9fa;\\n  border-radius: 15px;\\n  padding: 1.5rem;\\n  border: 2px solid #e9ecef;\\n\"])));const SectionTitle=styled.h3(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  color: #495057;\\n  margin: 0 0 1rem 0;\\n  font-size: 1.1rem;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"])));const ToggleButton=styled.button(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: none;\\n  border: none;\\n  color: #007bff;\\n  cursor: pointer;\\n  padding: 0.25rem;\\n  \\n  &:hover {\\n    color: #0056b3;\\n  }\\n\"])));const RawText=styled.pre(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  background: white;\\n  border: 1px solid #dee2e6;\\n  border-radius: 8px;\\n  padding: 1rem;\\n  font-size: 0.9rem;\\n  line-height: 1.4;\\n  max-height: 200px;\\n  overflow-y: auto;\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n\"])));const ExtractedInfo=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n\"])));const InfoItem=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0.75rem;\\n  background: white;\\n  border-radius: 8px;\\n  border: 1px solid #dee2e6;\\n\"])));const InfoLabel=styled.span(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #495057;\\n\"])));const InfoValue=styled.span(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  color: #007bff;\\n  font-weight: 500;\\n\"])));const EditableInput=styled.input(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  border: 1px solid #007bff;\\n  border-radius: 4px;\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.9rem;\\n  width: 150px;\\n\"])));const EditableSelect=styled.select(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  border: 1px solid #007bff;\\n  border-radius: 4px;\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.9rem;\\n  width: 150px;\\n\"])));const ActionButtons=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 1rem;\\n  justify-content: flex-end;\\n  padding: 1.5rem;\\n  border-top: 2px solid #e9ecef;\\n\"])));const ActionButton=styled.button(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  padding: 0.75rem 2rem;\\n  border: none;\\n  border-radius: 10px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  transition: all 0.3s ease;\\n  \\n  &.primary {\\n    background: linear-gradient(45deg, #007bff, #0056b3);\\n    color: white;\\n    \\n    &:hover {\\n      background: linear-gradient(45deg, #0056b3, #004085);\\n      transform: translateY(-2px);\\n    }\\n  }\\n  \\n  &.secondary {\\n    background: #6c757d;\\n    color: white;\\n    \\n    &:hover {\\n      background: #5a6268;\\n    }\\n  }\\n\"])));const categories=[{value:'an uong',label:'🍽️ Ăn uống'},{value:'di lai',label:'🚗 Đi lại'},{value:'hoc tap',label:'📚 Học tập'},{value:'giai tri',label:'🎮 Giải trí'},{value:'hoa don',label:'💡 Hóa đơn'},{value:'khac',label:'📦 Khác'}];const OCRPreview=_ref=>{let{isOpen,onClose,ocrResult,onConfirm}=_ref;const[showRawText,setShowRawText]=useState(false);const[editableData,setEditableData]=useState({amount:'',description:'',category:'khac',date:''});// Update editableData when ocrResult changes\nuseEffect(()=>{if(ocrResult&&isOpen){setEditableData({amount:ocrResult.amount||'',description:ocrResult.description||'',category:ocrResult.category||'khac',date:ocrResult.date||''});}},[ocrResult,isOpen]);const handleInputChange=(field,value)=>{setEditableData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleConfirm=()=>{// Validate data\nif(!editableData.amount||!editableData.description){toast.error('Vui lòng điền đầy đủ số tiền và mô tả');return;}onConfirm(editableData);};const formatCurrency=amount=>{return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(amount);};const getCategoryLabel=value=>{const category=categories.find(cat=>cat.value===value);return category?category.label:value;};if(!isOpen||!ocrResult)return null;return/*#__PURE__*/_jsx(PreviewModal,{onClick:e=>e.target===e.currentTarget&&onClose(),children:/*#__PURE__*/_jsxs(PreviewContainer,{children:[/*#__PURE__*/_jsxs(PreviewHeader,{children:[/*#__PURE__*/_jsxs(PreviewTitle,{children:[/*#__PURE__*/_jsx(Edit3,{size:24}),\"K\\u1EBFt qu\\u1EA3 qu\\xE9t h\\xF3a \\u0111\\u01A1n\"]}),/*#__PURE__*/_jsx(CloseButton,{onClick:onClose,children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(PreviewContent,{children:[/*#__PURE__*/_jsxs(SectionGrid,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[\"\\uD83D\\uDCC4 Text \\u0111\\xE3 tr\\xEDch xu\\u1EA5t\",/*#__PURE__*/_jsx(ToggleButton,{onClick:()=>setShowRawText(!showRawText),children:showRawText?/*#__PURE__*/_jsx(EyeOff,{size:16}):/*#__PURE__*/_jsx(Eye,{size:16})})]}),showRawText&&/*#__PURE__*/_jsx(RawText,{children:ocrResult.raw_text||'Không có text thô'}),!showRawText&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'white',borderRadius:'8px',border:'1px solid #dee2e6',textAlign:'center',color:'#6c757d'},children:\"Nh\\u1EA5n \\uD83D\\uDC41\\uFE0F \\u0111\\u1EC3 xem text g\\u1ED1c\"})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83E\\uDD16 Th\\xF4ng tin \\u0111\\xE3 ph\\xE2n t\\xEDch\"}),/*#__PURE__*/_jsxs(ExtractedInfo,{children:[/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"\\uD83D\\uDCB0 S\\u1ED1 ti\\u1EC1n:\"}),/*#__PURE__*/_jsx(EditableInput,{type:\"number\",value:editableData.amount,onChange:e=>handleInputChange('amount',e.target.value),placeholder:\"Nh\\u1EADp s\\u1ED1 ti\\u1EC1n\"})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"\\uD83D\\uDCDD M\\xF4 t\\u1EA3:\"}),/*#__PURE__*/_jsx(EditableInput,{type:\"text\",value:editableData.description,onChange:e=>handleInputChange('description',e.target.value),placeholder:\"Nh\\u1EADp m\\xF4 t\\u1EA3\"})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"\\uD83C\\uDFF7\\uFE0F Danh m\\u1EE5c:\"}),/*#__PURE__*/_jsx(EditableSelect,{value:editableData.category,onChange:e=>handleInputChange('category',e.target.value),children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat.value,children:cat.label},cat.value))})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"\\uD83D\\uDCC5 Ng\\xE0y:\"}),/*#__PURE__*/_jsx(EditableInput,{type:\"date\",value:editableData.date,onChange:e=>handleInputChange('date',e.target.value)})]})]})]})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83D\\uDCCB Xem tr\\u01B0\\u1EDBc giao d\\u1ECBch\"}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'white',borderRadius:'8px',border:'2px solid #007bff'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:editableData.description}),/*#__PURE__*/_jsx(\"strong\",{style:{color:'#dc3545'},children:editableData.amount?formatCurrency(editableData.amount):'0 ₫'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.9rem',color:'#6c757d'},children:[/*#__PURE__*/_jsx(\"span\",{children:getCategoryLabel(editableData.category)}),/*#__PURE__*/_jsx(\"span\",{children:editableData.date})]})]})]})]}),/*#__PURE__*/_jsxs(ActionButtons,{children:[/*#__PURE__*/_jsxs(ActionButton,{className:\"secondary\",onClick:onClose,children:[/*#__PURE__*/_jsx(X,{size:16}),\"H\\u1EE7y b\\u1ECF\"]}),/*#__PURE__*/_jsxs(ActionButton,{className:\"primary\",onClick:handleConfirm,children:[/*#__PURE__*/_jsx(Check,{size:16}),\"X\\xE1c nh\\u1EADn & L\\u01B0u\"]})]})]})});};export default OCRPreview;","map":{"version":3,"names":["useState","useEffect","styled","Check","X","Edit3","Eye","EyeOff","toast","jsx","_jsx","jsxs","_jsxs","PreviewModal","div","_templateObject","_taggedTemplateLiteral","PreviewContainer","_templateObject2","PreviewHeader","_templateObject3","PreviewTitle","h2","_templateObject4","CloseButton","button","_templateObject5","PreviewContent","_templateObject6","SectionGrid","_templateObject7","Section","_templateObject8","SectionTitle","h3","_templateObject9","ToggleButton","_templateObject0","RawText","pre","_templateObject1","ExtractedInfo","_templateObject10","InfoItem","_templateObject11","InfoLabel","span","_templateObject12","InfoValue","_templateObject13","EditableInput","input","_templateObject14","EditableSelect","select","_templateObject15","ActionButtons","_templateObject16","ActionButton","_templateObject17","categories","value","label","OCRPreview","_ref","isOpen","onClose","ocrResult","onConfirm","showRawText","setShowRawText","editableData","setEditableData","amount","description","category","date","handleInputChange","field","prev","_objectSpread","handleConfirm","error","formatCurrency","Intl","NumberFormat","style","currency","format","getCategoryLabel","find","cat","onClick","e","target","currentTarget","children","size","raw_text","padding","background","borderRadius","border","textAlign","color","type","onChange","placeholder","map","display","justifyContent","marginBottom","fontSize","className"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/components/OCRPreview.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Check, X, Edit3, Eye, EyeOff } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst PreviewModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 1rem;\r\n`;\r\n\r\nconst PreviewContainer = styled.div`\r\n  background: white;\r\n  border-radius: 20px;\r\n  max-width: 800px;\r\n  width: 100%;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst PreviewHeader = styled.div`\r\n  padding: 1.5rem;\r\n  border-bottom: 2px solid #e9ecef;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst PreviewTitle = styled.h2`\r\n  color: #007bff;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #6c757d;\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  border-radius: 50%;\r\n  \r\n  &:hover {\r\n    background: #f8f9fa;\r\n    color: #dc3545;\r\n  }\r\n`;\r\n\r\nconst PreviewContent = styled.div`\r\n  padding: 1.5rem;\r\n`;\r\n\r\nconst SectionGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n  \r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background: #f8f9fa;\r\n  border-radius: 15px;\r\n  padding: 1.5rem;\r\n  border: 2px solid #e9ecef;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: #495057;\r\n  margin: 0 0 1rem 0;\r\n  font-size: 1.1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ToggleButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #007bff;\r\n  cursor: pointer;\r\n  padding: 0.25rem;\r\n  \r\n  &:hover {\r\n    color: #0056b3;\r\n  }\r\n`;\r\n\r\nconst RawText = styled.pre`\r\n  background: white;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  font-size: 0.9rem;\r\n  line-height: 1.4;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nconst ExtractedInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst InfoItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border-radius: 8px;\r\n  border: 1px solid #dee2e6;\r\n`;\r\n\r\nconst InfoLabel = styled.span`\r\n  font-weight: 600;\r\n  color: #495057;\r\n`;\r\n\r\nconst InfoValue = styled.span`\r\n  color: #007bff;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst EditableInput = styled.input`\r\n  border: 1px solid #007bff;\r\n  border-radius: 4px;\r\n  padding: 0.25rem 0.5rem;\r\n  font-size: 0.9rem;\r\n  width: 150px;\r\n`;\r\n\r\nconst EditableSelect = styled.select`\r\n  border: 1px solid #007bff;\r\n  border-radius: 4px;\r\n  padding: 0.25rem 0.5rem;\r\n  font-size: 0.9rem;\r\n  width: 150px;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: flex-end;\r\n  padding: 1.5rem;\r\n  border-top: 2px solid #e9ecef;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 0.75rem 2rem;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: all 0.3s ease;\r\n  \r\n  &.primary {\r\n    background: linear-gradient(45deg, #007bff, #0056b3);\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: linear-gradient(45deg, #0056b3, #004085);\r\n      transform: translateY(-2px);\r\n    }\r\n  }\r\n  \r\n  &.secondary {\r\n    background: #6c757d;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #5a6268;\r\n    }\r\n  }\r\n`;\r\n\r\nconst categories = [\r\n  { value: 'an uong', label: '🍽️ Ăn uống' },\r\n  { value: 'di lai', label: '🚗 Đi lại' },\r\n  { value: 'hoc tap', label: '📚 Học tập' },\r\n  { value: 'giai tri', label: '🎮 Giải trí' },\r\n  { value: 'hoa don', label: '💡 Hóa đơn' },\r\n  { value: 'khac', label: '📦 Khác' }\r\n];\r\n\r\nconst OCRPreview = ({ isOpen, onClose, ocrResult, onConfirm }) => {\r\n  const [showRawText, setShowRawText] = useState(false);\r\n  const [editableData, setEditableData] = useState({\r\n    amount: '',\r\n    description: '',\r\n    category: 'khac',\r\n    date: ''\r\n  });\r\n\r\n  // Update editableData when ocrResult changes\r\n  useEffect(() => {\r\n    if (ocrResult && isOpen) {\r\n      setEditableData({\r\n        amount: ocrResult.amount || '',\r\n        description: ocrResult.description || '',\r\n        category: ocrResult.category || 'khac',\r\n        date: ocrResult.date || ''\r\n      });\r\n    }\r\n  }, [ocrResult, isOpen]);\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setEditableData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    // Validate data\r\n    if (!editableData.amount || !editableData.description) {\r\n      toast.error('Vui lòng điền đầy đủ số tiền và mô tả');\r\n      return;\r\n    }\r\n\r\n    onConfirm(editableData);\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getCategoryLabel = (value) => {\r\n    const category = categories.find(cat => cat.value === value);\r\n    return category ? category.label : value;\r\n  };\r\n\r\n  if (!isOpen || !ocrResult) return null;\r\n\r\n  return (\r\n    <PreviewModal onClick={(e) => e.target === e.currentTarget && onClose()}>\r\n      <PreviewContainer>\r\n        <PreviewHeader>\r\n          <PreviewTitle>\r\n            <Edit3 size={24} />\r\n            Kết quả quét hóa đơn\r\n          </PreviewTitle>\r\n          <CloseButton onClick={onClose}>\r\n            <X size={20} />\r\n          </CloseButton>\r\n        </PreviewHeader>\r\n\r\n        <PreviewContent>\r\n          <SectionGrid>\r\n            <Section>\r\n              <SectionTitle>\r\n                📄 Text đã trích xuất\r\n                <ToggleButton onClick={() => setShowRawText(!showRawText)}>\r\n                  {showRawText ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                </ToggleButton>\r\n              </SectionTitle>\r\n              \r\n              {showRawText && (\r\n                <RawText>{ocrResult.raw_text || 'Không có text thô'}</RawText>\r\n              )}\r\n              \r\n              {!showRawText && (\r\n                <div style={{ \r\n                  padding: '1rem', \r\n                  background: 'white', \r\n                  borderRadius: '8px',\r\n                  border: '1px solid #dee2e6',\r\n                  textAlign: 'center',\r\n                  color: '#6c757d'\r\n                }}>\r\n                  Nhấn 👁️ để xem text gốc\r\n                </div>\r\n              )}\r\n            </Section>\r\n\r\n            <Section>\r\n              <SectionTitle>🤖 Thông tin đã phân tích</SectionTitle>\r\n              \r\n              <ExtractedInfo>\r\n                <InfoItem>\r\n                  <InfoLabel>💰 Số tiền:</InfoLabel>\r\n                  <EditableInput\r\n                    type=\"number\"\r\n                    value={editableData.amount}\r\n                    onChange={(e) => handleInputChange('amount', e.target.value)}\r\n                    placeholder=\"Nhập số tiền\"\r\n                  />\r\n                </InfoItem>\r\n\r\n                <InfoItem>\r\n                  <InfoLabel>📝 Mô tả:</InfoLabel>\r\n                  <EditableInput\r\n                    type=\"text\"\r\n                    value={editableData.description}\r\n                    onChange={(e) => handleInputChange('description', e.target.value)}\r\n                    placeholder=\"Nhập mô tả\"\r\n                  />\r\n                </InfoItem>\r\n\r\n                <InfoItem>\r\n                  <InfoLabel>🏷️ Danh mục:</InfoLabel>\r\n                  <EditableSelect\r\n                    value={editableData.category}\r\n                    onChange={(e) => handleInputChange('category', e.target.value)}\r\n                  >\r\n                    {categories.map(cat => (\r\n                      <option key={cat.value} value={cat.value}>\r\n                        {cat.label}\r\n                      </option>\r\n                    ))}\r\n                  </EditableSelect>\r\n                </InfoItem>\r\n\r\n                <InfoItem>\r\n                  <InfoLabel>📅 Ngày:</InfoLabel>\r\n                  <EditableInput\r\n                    type=\"date\"\r\n                    value={editableData.date}\r\n                    onChange={(e) => handleInputChange('date', e.target.value)}\r\n                  />\r\n                </InfoItem>\r\n              </ExtractedInfo>\r\n            </Section>\r\n          </SectionGrid>\r\n\r\n          <Section>\r\n            <SectionTitle>📋 Xem trước giao dịch</SectionTitle>\r\n            <div style={{ \r\n              padding: '1rem', \r\n              background: 'white', \r\n              borderRadius: '8px',\r\n              border: '2px solid #007bff'\r\n            }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\r\n                <strong>{editableData.description}</strong>\r\n                <strong style={{ color: '#dc3545' }}>\r\n                  {editableData.amount ? formatCurrency(editableData.amount) : '0 ₫'}\r\n                </strong>\r\n              </div>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.9rem', color: '#6c757d' }}>\r\n                <span>{getCategoryLabel(editableData.category)}</span>\r\n                <span>{editableData.date}</span>\r\n              </div>\r\n            </div>\r\n          </Section>\r\n        </PreviewContent>\r\n\r\n        <ActionButtons>\r\n          <ActionButton className=\"secondary\" onClick={onClose}>\r\n            <X size={16} />\r\n            Hủy bỏ\r\n          </ActionButton>\r\n          <ActionButton className=\"primary\" onClick={handleConfirm}>\r\n            <Check size={16} />\r\n            Xác nhận & Lưu\r\n          </ActionButton>\r\n        </ActionButtons>\r\n      </PreviewContainer>\r\n    </PreviewModal>\r\n  );\r\n};\r\n\r\nexport default OCRPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}