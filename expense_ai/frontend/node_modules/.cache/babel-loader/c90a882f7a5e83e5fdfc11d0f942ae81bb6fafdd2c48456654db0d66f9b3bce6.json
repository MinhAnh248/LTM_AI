{"ast":null,"code":"var _jsxFileName = \"C:\\\\LTMang_AI\\\\expense_ai\\\\frontend\\\\src\\\\pages\\\\BudgetPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Target, TrendingUp, AlertTriangle, CheckCircle } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContainer = styled.div`\n  max-width: 1000px;\n  margin: 0 auto;\n`;\n_c = BudgetContainer;\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  color: #007bff;\n  margin-bottom: 0.5rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: #6c757d;\n  font-size: 1.1rem;\n`;\n_c4 = Subtitle;\nconst BudgetGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 2rem;\n  margin-bottom: 2rem;\n`;\n_c5 = BudgetGrid;\nconst BudgetCard = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 1.5rem;\n  border: 2px solid #007bff;\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\n`;\n_c6 = BudgetCard;\nconst CategoryHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n_c7 = CategoryHeader;\nconst CategoryName = styled.h3`\n  color: #007bff;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n_c8 = CategoryName;\nconst StatusIcon = styled.div`\n  color: ${props => {\n  if (props.percentage >= 100) return '#dc3545';\n  if (props.percentage >= 80) return '#ffc107';\n  return '#28a745';\n}};\n`;\n_c9 = StatusIcon;\nconst ProgressBar = styled.div`\n  width: 100%;\n  height: 12px;\n  background: #e9ecef;\n  border-radius: 6px;\n  overflow: hidden;\n  margin: 1rem 0;\n`;\n_c0 = ProgressBar;\nconst ProgressFill = styled.div`\n  height: 100%;\n  background: ${props => {\n  if (props.percentage >= 100) return 'linear-gradient(45deg, #dc3545, #c82333)';\n  if (props.percentage >= 80) return 'linear-gradient(45deg, #ffc107, #e0a800)';\n  return 'linear-gradient(45deg, #28a745, #1e7e34)';\n}};\n  width: ${props => Math.min(props.percentage, 100)}%;\n  transition: width 0.3s ease;\n`;\n_c1 = ProgressFill;\nconst BudgetInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n`;\n_c10 = BudgetInfo;\nconst BudgetText = styled.span`\n  color: #495057;\n  font-size: 0.9rem;\n`;\n_c11 = BudgetText;\nconst BudgetAmount = styled.span`\n  font-weight: bold;\n  color: ${props => props.color || '#495057'};\n`;\n_c12 = BudgetAmount;\nconst BudgetInput = styled.div`\n  margin-top: 1rem;\n  display: flex;\n  gap: 0.5rem;\n`;\n_c13 = BudgetInput;\nconst Input = styled.input`\n  flex: 1;\n  padding: 0.5rem;\n  border: 2px solid #e9ecef;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #007bff;\n  }\n`;\n_c14 = Input;\nconst SetBudgetButton = styled.button`\n  padding: 0.5rem 1rem;\n  background: linear-gradient(45deg, #007bff, #0056b3);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  \n  &:hover {\n    background: linear-gradient(45deg, #0056b3, #004085);\n  }\n`;\n_c15 = SetBudgetButton;\nconst SummaryCard = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 15px;\n  padding: 2rem;\n  border: 2px solid #007bff;\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\n  text-align: center;\n`;\n_c16 = SummaryCard;\nconst SummaryGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 2rem;\n  margin-top: 1.5rem;\n`;\n_c17 = SummaryGrid;\nconst SummaryItem = styled.div`\n  text-align: center;\n`;\n_c18 = SummaryItem;\nconst SummaryValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props => props.color || '#007bff'};\n  margin-bottom: 0.5rem;\n`;\n_c19 = SummaryValue;\nconst SummaryLabel = styled.div`\n  color: #6c757d;\n  font-size: 0.9rem;\n`;\n_c20 = SummaryLabel;\nconst categories = [{\n  value: 'an uong',\n  label: 'üçΩÔ∏è ƒÇn u·ªëng',\n  icon: 'üçΩÔ∏è'\n}, {\n  value: 'di lai',\n  label: 'üöó ƒêi l·∫°i',\n  icon: 'üöó'\n}, {\n  value: 'hoc tap',\n  label: 'üìö H·ªçc t·∫≠p',\n  icon: 'üìö'\n}, {\n  value: 'giai tri',\n  label: 'üéÆ Gi·∫£i tr√≠',\n  icon: 'üéÆ'\n}, {\n  value: 'hoa don',\n  label: 'üí° H√≥a ƒë∆°n',\n  icon: 'üí°'\n}, {\n  value: 'khac',\n  label: 'üì¶ Kh√°c',\n  icon: 'üì¶'\n}];\nconst BudgetPage = () => {\n  _s();\n  const [budgets, setBudgets] = useState({});\n  const [spending, setSpending] = useState({});\n  const [newBudgets, setNewBudgets] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadBudgetData();\n  }, []);\n  const loadBudgetData = async () => {\n    try {\n      const [budgetRes, spendingRes] = await Promise.all([api.getBudgets(), api.getCategoryBreakdown()]);\n      setBudgets(budgetRes.data);\n\n      // Convert spending array to object\n      const spendingObj = {};\n      spendingRes.data.forEach(item => {\n        spendingObj[item.category] = item.amount;\n      });\n      setSpending(spendingObj);\n    } catch (error) {\n      console.error('Error loading budget data:', error);\n      toast.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu ng√¢n s√°ch');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSetBudget = async category => {\n    const amount = newBudgets[category];\n    if (!amount || amount <= 0) {\n      toast.error('Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn h·ª£p l·ªá');\n      return;\n    }\n    try {\n      await api.setBudget({\n        category,\n        limit: parseFloat(amount)\n      });\n      setBudgets(prev => ({\n        ...prev,\n        [category]: parseFloat(amount)\n      }));\n      setNewBudgets(prev => ({\n        ...prev,\n        [category]: ''\n      }));\n      toast.success('ƒê√£ c·∫≠p nh·∫≠t ng√¢n s√°ch th√†nh c√¥ng!');\n    } catch (error) {\n      console.error('Error setting budget:', error);\n      toast.error('C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t ng√¢n s√°ch');\n    }\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount || 0);\n  };\n  const getSpendingPercentage = category => {\n    const spent = spending[category] || 0;\n    const budget = budgets[category] || 0;\n    return budget > 0 ? spent / budget * 100 : 0;\n  };\n  const getStatusIcon = percentage => {\n    if (percentage >= 100) return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 35\n    }, this);\n    if (percentage >= 80) return /*#__PURE__*/_jsxDEV(TrendingUp, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 34\n    }, this);\n    return /*#__PURE__*/_jsxDEV(CheckCircle, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 12\n    }, this);\n  };\n  const getTotalBudget = () => {\n    return Object.values(budgets).reduce((sum, budget) => sum + (budget || 0), 0);\n  };\n  const getTotalSpending = () => {\n    return Object.values(spending).reduce((sum, spent) => sum + (spent || 0), 0);\n  };\n  const getOverBudgetCategories = () => {\n    return categories.filter(cat => getSpendingPercentage(cat.value) >= 100).length;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0110ang t\\u1EA3i...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uD83C\\uDFAF Qu\\u1EA3n l\\xFD Ng\\xE2n s\\xE1ch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"Theo d\\xF5i v\\xE0 ki\\u1EC3m so\\xE1t chi ti\\xEAu theo t\\u1EEBng danh m\\u1EE5c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCCA T\\u1ED5ng quan Ng\\xE2n s\\xE1ch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryGrid, {\n        children: [/*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: \"#007bff\",\n            children: formatCurrency(getTotalBudget())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"T\\u1ED5ng ng\\xE2n s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: \"#dc3545\",\n            children: formatCurrency(getTotalSpending())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"\\u0110\\xE3 chi ti\\xEAu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: getTotalBudget() - getTotalSpending() >= 0 ? '#28a745' : '#dc3545',\n            children: formatCurrency(getTotalBudget() - getTotalSpending())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"C\\xF2n l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryValue, {\n            color: getOverBudgetCategories() > 0 ? '#dc3545' : '#28a745',\n            children: getOverBudgetCategories()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SummaryLabel, {\n            children: \"V\\u01B0\\u1EE3t ng\\xE2n s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BudgetGrid, {\n      children: categories.map(category => {\n        const percentage = getSpendingPercentage(category.value);\n        const spent = spending[category.value] || 0;\n        const budget = budgets[category.value] || 0;\n        const remaining = budget - spent;\n        return /*#__PURE__*/_jsxDEV(BudgetCard, {\n          children: [/*#__PURE__*/_jsxDEV(CategoryHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CategoryName, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: category.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), category.label]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StatusIcon, {\n              percentage: percentage,\n              children: getStatusIcon(percentage)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n            children: /*#__PURE__*/_jsxDEV(ProgressFill, {\n              percentage: percentage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"\\u0110\\xE3 chi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: \"#dc3545\",\n              children: formatCurrency(spent)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"Ng\\xE2n s\\xE1ch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: \"#007bff\",\n              children: formatCurrency(budget)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"C\\xF2n l\\u1EA1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: remaining >= 0 ? '#28a745' : '#dc3545',\n              children: formatCurrency(remaining)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BudgetText, {\n              children: \"Ti\\u1EBFn \\u0111\\u1ED9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BudgetAmount, {\n              color: percentage >= 100 ? '#dc3545' : '#007bff',\n              children: [percentage.toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BudgetInput, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Nh\\u1EADp ng\\xE2n s\\xE1ch m\\u1EDBi...\",\n              value: newBudgets[category.value] || '',\n              onChange: e => setNewBudgets(prev => ({\n                ...prev,\n                [category.value]: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SetBudgetButton, {\n              onClick: () => handleSetBudget(category.value),\n              children: /*#__PURE__*/_jsxDEV(Target, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, category.value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(BudgetPage, \"ljBQsrWlEuXODsD/WEhPIMwQ9KQ=\");\n_c21 = BudgetPage;\nexport default BudgetPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"BudgetContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"BudgetGrid\");\n$RefreshReg$(_c6, \"BudgetCard\");\n$RefreshReg$(_c7, \"CategoryHeader\");\n$RefreshReg$(_c8, \"CategoryName\");\n$RefreshReg$(_c9, \"StatusIcon\");\n$RefreshReg$(_c0, \"ProgressBar\");\n$RefreshReg$(_c1, \"ProgressFill\");\n$RefreshReg$(_c10, \"BudgetInfo\");\n$RefreshReg$(_c11, \"BudgetText\");\n$RefreshReg$(_c12, \"BudgetAmount\");\n$RefreshReg$(_c13, \"BudgetInput\");\n$RefreshReg$(_c14, \"Input\");\n$RefreshReg$(_c15, \"SetBudgetButton\");\n$RefreshReg$(_c16, \"SummaryCard\");\n$RefreshReg$(_c17, \"SummaryGrid\");\n$RefreshReg$(_c18, \"SummaryItem\");\n$RefreshReg$(_c19, \"SummaryValue\");\n$RefreshReg$(_c20, \"SummaryLabel\");\n$RefreshReg$(_c21, \"BudgetPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","Target","TrendingUp","AlertTriangle","CheckCircle","toast","api","jsxDEV","_jsxDEV","BudgetContainer","div","_c","Header","_c2","Title","h1","_c3","Subtitle","p","_c4","BudgetGrid","_c5","BudgetCard","_c6","CategoryHeader","_c7","CategoryName","h3","_c8","StatusIcon","props","percentage","_c9","ProgressBar","_c0","ProgressFill","Math","min","_c1","BudgetInfo","_c10","BudgetText","span","_c11","BudgetAmount","color","_c12","BudgetInput","_c13","Input","input","_c14","SetBudgetButton","button","_c15","SummaryCard","_c16","SummaryGrid","_c17","SummaryItem","_c18","SummaryValue","_c19","SummaryLabel","_c20","categories","value","label","icon","BudgetPage","_s","budgets","setBudgets","spending","setSpending","newBudgets","setNewBudgets","loading","setLoading","loadBudgetData","budgetRes","spendingRes","Promise","all","getBudgets","getCategoryBreakdown","data","spendingObj","forEach","item","category","amount","error","console","handleSetBudget","setBudget","limit","parseFloat","prev","success","formatCurrency","Intl","NumberFormat","style","currency","format","getSpendingPercentage","spent","budget","getStatusIcon","size","fileName","_jsxFileName","lineNumber","columnNumber","getTotalBudget","Object","values","reduce","sum","getTotalSpending","getOverBudgetCategories","filter","cat","length","children","map","remaining","toFixed","type","placeholder","onChange","e","target","onClick","_c21","$RefreshReg$"],"sources":["C:/LTMang_AI/expense_ai/frontend/src/pages/BudgetPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Target, TrendingUp, AlertTriangle, CheckCircle } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\nimport api from '../services/api';\r\n\r\nconst BudgetContainer = styled.div`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #007bff;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  color: #6c757d;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst BudgetGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst BudgetCard = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 1.5rem;\r\n  border: 2px solid #007bff;\r\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\r\n`;\r\n\r\nconst CategoryHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst CategoryName = styled.h3`\r\n  color: #007bff;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst StatusIcon = styled.div`\r\n  color: ${props => {\r\n    if (props.percentage >= 100) return '#dc3545';\r\n    if (props.percentage >= 80) return '#ffc107';\r\n    return '#28a745';\r\n  }};\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 12px;\r\n  background: #e9ecef;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background: ${props => {\r\n    if (props.percentage >= 100) return 'linear-gradient(45deg, #dc3545, #c82333)';\r\n    if (props.percentage >= 80) return 'linear-gradient(45deg, #ffc107, #e0a800)';\r\n    return 'linear-gradient(45deg, #28a745, #1e7e34)';\r\n  }};\r\n  width: ${props => Math.min(props.percentage, 100)}%;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nconst BudgetInfo = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst BudgetText = styled.span`\r\n  color: #495057;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst BudgetAmount = styled.span`\r\n  font-weight: bold;\r\n  color: ${props => props.color || '#495057'};\r\n`;\r\n\r\nconst BudgetInput = styled.div`\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 2px solid #e9ecef;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #007bff;\r\n  }\r\n`;\r\n\r\nconst SetBudgetButton = styled.button`\r\n  padding: 0.5rem 1rem;\r\n  background: linear-gradient(45deg, #007bff, #0056b3);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  \r\n  &:hover {\r\n    background: linear-gradient(45deg, #0056b3, #004085);\r\n  }\r\n`;\r\n\r\nconst SummaryCard = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 15px;\r\n  padding: 2rem;\r\n  border: 2px solid #007bff;\r\n  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);\r\n  text-align: center;\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 2rem;\r\n  margin-top: 1.5rem;\r\n`;\r\n\r\nconst SummaryItem = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst SummaryValue = styled.div`\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: ${props => props.color || '#007bff'};\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst SummaryLabel = styled.div`\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst categories = [\r\n  { value: 'an uong', label: 'üçΩÔ∏è ƒÇn u·ªëng', icon: 'üçΩÔ∏è' },\r\n  { value: 'di lai', label: 'üöó ƒêi l·∫°i', icon: 'üöó' },\r\n  { value: 'hoc tap', label: 'üìö H·ªçc t·∫≠p', icon: 'üìö' },\r\n  { value: 'giai tri', label: 'üéÆ Gi·∫£i tr√≠', icon: 'üéÆ' },\r\n  { value: 'hoa don', label: 'üí° H√≥a ƒë∆°n', icon: 'üí°' },\r\n  { value: 'khac', label: 'üì¶ Kh√°c', icon: 'üì¶' }\r\n];\r\n\r\nconst BudgetPage = () => {\r\n  const [budgets, setBudgets] = useState({});\r\n  const [spending, setSpending] = useState({});\r\n  const [newBudgets, setNewBudgets] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadBudgetData();\r\n  }, []);\r\n\r\n  const loadBudgetData = async () => {\r\n    try {\r\n      const [budgetRes, spendingRes] = await Promise.all([\r\n        api.getBudgets(),\r\n        api.getCategoryBreakdown()\r\n      ]);\r\n\r\n      setBudgets(budgetRes.data);\r\n      \r\n      // Convert spending array to object\r\n      const spendingObj = {};\r\n      spendingRes.data.forEach(item => {\r\n        spendingObj[item.category] = item.amount;\r\n      });\r\n      setSpending(spendingObj);\r\n    } catch (error) {\r\n      console.error('Error loading budget data:', error);\r\n      toast.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu ng√¢n s√°ch');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSetBudget = async (category) => {\r\n    const amount = newBudgets[category];\r\n    if (!amount || amount <= 0) {\r\n      toast.error('Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn h·ª£p l·ªá');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.setBudget({ category, limit: parseFloat(amount) });\r\n      setBudgets(prev => ({ ...prev, [category]: parseFloat(amount) }));\r\n      setNewBudgets(prev => ({ ...prev, [category]: '' }));\r\n      toast.success('ƒê√£ c·∫≠p nh·∫≠t ng√¢n s√°ch th√†nh c√¥ng!');\r\n    } catch (error) {\r\n      console.error('Error setting budget:', error);\r\n      toast.error('C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t ng√¢n s√°ch');\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const getSpendingPercentage = (category) => {\r\n    const spent = spending[category] || 0;\r\n    const budget = budgets[category] || 0;\r\n    return budget > 0 ? (spent / budget) * 100 : 0;\r\n  };\r\n\r\n  const getStatusIcon = (percentage) => {\r\n    if (percentage >= 100) return <AlertTriangle size={20} />;\r\n    if (percentage >= 80) return <TrendingUp size={20} />;\r\n    return <CheckCircle size={20} />;\r\n  };\r\n\r\n  const getTotalBudget = () => {\r\n    return Object.values(budgets).reduce((sum, budget) => sum + (budget || 0), 0);\r\n  };\r\n\r\n  const getTotalSpending = () => {\r\n    return Object.values(spending).reduce((sum, spent) => sum + (spent || 0), 0);\r\n  };\r\n\r\n  const getOverBudgetCategories = () => {\r\n    return categories.filter(cat => getSpendingPercentage(cat.value) >= 100).length;\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>ƒêang t·∫£i...</div>;\r\n  }\r\n\r\n  return (\r\n    <BudgetContainer>\r\n      <Header>\r\n        <Title>üéØ Qu·∫£n l√Ω Ng√¢n s√°ch</Title>\r\n        <Subtitle>Theo d√µi v√† ki·ªÉm so√°t chi ti√™u theo t·ª´ng danh m·ª•c</Subtitle>\r\n      </Header>\r\n\r\n      <SummaryCard>\r\n        <h2>üìä T·ªïng quan Ng√¢n s√°ch</h2>\r\n        <SummaryGrid>\r\n          <SummaryItem>\r\n            <SummaryValue color=\"#007bff\">\r\n              {formatCurrency(getTotalBudget())}\r\n            </SummaryValue>\r\n            <SummaryLabel>T·ªïng ng√¢n s√°ch</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color=\"#dc3545\">\r\n              {formatCurrency(getTotalSpending())}\r\n            </SummaryValue>\r\n            <SummaryLabel>ƒê√£ chi ti√™u</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color={getTotalBudget() - getTotalSpending() >= 0 ? '#28a745' : '#dc3545'}>\r\n              {formatCurrency(getTotalBudget() - getTotalSpending())}\r\n            </SummaryValue>\r\n            <SummaryLabel>C√≤n l·∫°i</SummaryLabel>\r\n          </SummaryItem>\r\n          <SummaryItem>\r\n            <SummaryValue color={getOverBudgetCategories() > 0 ? '#dc3545' : '#28a745'}>\r\n              {getOverBudgetCategories()}\r\n            </SummaryValue>\r\n            <SummaryLabel>V∆∞·ª£t ng√¢n s√°ch</SummaryLabel>\r\n          </SummaryItem>\r\n        </SummaryGrid>\r\n      </SummaryCard>\r\n\r\n      <BudgetGrid>\r\n        {categories.map(category => {\r\n          const percentage = getSpendingPercentage(category.value);\r\n          const spent = spending[category.value] || 0;\r\n          const budget = budgets[category.value] || 0;\r\n          const remaining = budget - spent;\r\n\r\n          return (\r\n            <BudgetCard key={category.value}>\r\n              <CategoryHeader>\r\n                <CategoryName>\r\n                  <span>{category.icon}</span>\r\n                  {category.label}\r\n                </CategoryName>\r\n                <StatusIcon percentage={percentage}>\r\n                  {getStatusIcon(percentage)}\r\n                </StatusIcon>\r\n              </CategoryHeader>\r\n\r\n              <ProgressBar>\r\n                <ProgressFill percentage={percentage} />\r\n              </ProgressBar>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>ƒê√£ chi:</BudgetText>\r\n                <BudgetAmount color=\"#dc3545\">\r\n                  {formatCurrency(spent)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Ng√¢n s√°ch:</BudgetText>\r\n                <BudgetAmount color=\"#007bff\">\r\n                  {formatCurrency(budget)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>C√≤n l·∫°i:</BudgetText>\r\n                <BudgetAmount color={remaining >= 0 ? '#28a745' : '#dc3545'}>\r\n                  {formatCurrency(remaining)}\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInfo>\r\n                <BudgetText>Ti·∫øn ƒë·ªô:</BudgetText>\r\n                <BudgetAmount color={percentage >= 100 ? '#dc3545' : '#007bff'}>\r\n                  {percentage.toFixed(1)}%\r\n                </BudgetAmount>\r\n              </BudgetInfo>\r\n\r\n              <BudgetInput>\r\n                <Input\r\n                  type=\"number\"\r\n                  placeholder=\"Nh·∫≠p ng√¢n s√°ch m·ªõi...\"\r\n                  value={newBudgets[category.value] || ''}\r\n                  onChange={(e) => setNewBudgets(prev => ({\r\n                    ...prev,\r\n                    [category.value]: e.target.value\r\n                  }))}\r\n                />\r\n                <SetBudgetButton onClick={() => handleSetBudget(category.value)}>\r\n                  <Target size={16} />\r\n                </SetBudgetButton>\r\n              </BudgetInput>\r\n            </BudgetCard>\r\n          );\r\n        })}\r\n      </BudgetGrid>\r\n    </BudgetContainer>\r\n  );\r\n};\r\n\r\nexport default BudgetPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}